
<!DOCTYPE HTML>
<html>
 <head>
  <meta charset="utf-8"/>
  <title>G-Obs plugin - Installation and configuration</title>
  <link type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.1/styles/github.min.css" rel="stylesheet"/>
  <link type="text/css" href="https://docs.3liz.org/remarkable.css" rel="stylesheet"/>
  <link type="image/png" href="../icon.png" rel="icon" >
 </head>
 <body>
 <header class="header-container" style="">
    <h1>G-Obs plugin - Installation and configuration</h1>
 </header>
 <article>
<div class="toc"><span class="toctitle">Table of content</span><ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#get-qgis-desktop">Get QGIS Desktop</a></li>
<li><a href="#install-g-obs-plugin">Install G-Obs plugin</a></li>
<li><a href="#add-a-connection-to-the-postgresql-database">Add a connection to the PostgreSQL database</a></li>
<li><a href="#configure-the-g-obs-plugin">Configure the G-Obs plugin</a></li>
<li><a href="#create-the-g-obs-database-structure">Create the G-Obs database structure</a></li>
<li><a href="#upgrade-database-structure">Upgrade database structure</a></li>
</ul>
</div>
<h2 id="introduction">Introduction</h2>
<p><strong>G-Obs</strong> is a set of tools to store and manage spatial and time data in a standardized way.</p>
<p>To use it, you need to:</p>
<ul>
<li>install QGIS Desktop</li>
<li>install the plugin G-Obs for QGIS</li>
<li>add a connection to a PostgreSQL database with PostGIS extension</li>
<li>install the G-Obs database structure on this PostgreSQL database</li>
</ul>
<h2 id="get-qgis-desktop">Get QGIS Desktop</h2>
<p>The administrator must use the <strong>QGIS desktop software</strong>, version 3.4.x or above, to edit these needed metadata.</p>
<p>You can download QGIS in the <a href="https://qgis.org/fr/site/forusers/download.html">official download page</a></p>
<h2 id="install-g-obs-plugin">Install G-Obs plugin</h2>
<p>At present, G-Obs is not yet in QGIS official plugin repository. To install the plugin, you need to:</p>
<ul>
<li>open QGIS <strong>Plugin manager</strong> (menu Plugins)</li>
<li>in the <strong>Parameters</strong> tab, add a new plugin repository name <strong>G-Obs</strong> with the URL: <a href="https://github.com/3liz/qgis-gobs-plugin/releases/latest/download/plugins.xml">https://github.com/3liz/qgis-gobs-plugin/releases/latest/download/plugins.xml</a></li>
</ul>
<p><img alt="G-Obs install plugin" src="../media/gobs_install_plugin.png"></p>
<ul>
<li>In the <strong>All</strong> tab, search for the word <code>obs</code> and install the <strong>G-Obs</strong> plugin.</li>
</ul>
<p>After a successfull installation, you should see a new dock called <strong>G-Obs</strong></p>
<p><img alt="G-Obs dock panel" src="../media/gobs_dock.jpg"></p>
<p>For further details, you can have a look at <a href="https://3liz.github.io/add_qgis_repository.html">3liz documentation web page</a>.</p>
<h2 id="add-a-connection-to-the-postgresql-database">Add a connection to the PostgreSQL database</h2>
<p>G-Obs stores all the data in a <strong>PostgreSQL database</strong>, with the PostGIS extension installed (to manage spatial data).</p>
<p>You need to have access to a PostgreSQL database, with enough rights to create a database <strong>schema</strong> and <strong>tables</strong> inside this schema.</p>
<p>In QGIS, use the <strong>Datasource manager</strong> under the <strong>Layer</strong> menu to create a new PostgreSQL connection:</p>
<ul>
<li>Activate the <strong>PostgreSQL tab</strong> (elephant icon)</li>
<li>Click on the <strong>New</strong> button</li>
<li>In the creation dialog, fill the needed information, and use the <strong>Test connection</strong> button to make sure the credentials are ok.</li>
</ul>
<p>We advise to:</p>
<ul>
<li>use a <strong>service connection</strong> instead of the basic authentication. See <a href="https://docs.qgis.org/3.4/fr/docs/user_manual/managing_data_source/opening_data.html#postgresql-service-connection-file">QGIS documentation</a></li>
<li>check the boxes <code>Use estimated table metadata</code> and <code>Also list tables with no geometry</code></li>
</ul>
<p>Once your connection is set up, you can create the G-Obs database structure in your PostgreSQL database</p>
<h2 id="configure-the-g-obs-plugin">Configure the G-Obs plugin</h2>
<p>This algorithm will allow to configure G-Obs extension for the current QGIS project.</p>
<p>You must run this script before any other script.</p>
<p>Parameters:</p>
<ul>
<li><code>PostgreSQL connection to G-Obs database</code>: name of the database connection you would like to use for the current QGIS project. This connection will be used for the other algorithms.</li>
</ul>
<p><img alt="Configure plugin" src="../media/gobs_configure_plugin.jpg"></p>
<h2 id="create-the-g-obs-database-structure">Create the G-Obs database structure</h2>
<p>Install the G-Obs database structure with tables and function on the chosen database connection.</p>
<p>This script will add a gobs schema with needed tables and functions.</p>
<p>Parameters:</p>
<ul>
<li><code>PostgreSQL connection to G-Obs database</code>: name of the database connection you would like to use for the installation.</li>
</ul>
<p><img alt="Create database structure" src="../media/gobs_create_database_structure.jpg"></p>
<h2 id="upgrade-database-structure">Upgrade database structure</h2>
<p>Upgrade the G-Obs tables and functions in the chosen database.</p>
<p>If you have upgraded your QGIS G-Obs plugin, you can run this script to upgrade your database to the new plugin version.</p>
<p>Parameters:</p>
<ul>
<li><code>PostgreSQL connection to G-Obs database</code>: name of the database connection you would like to use for the upgrade.</li>
</ul>
<p><img alt="Upgrade database structure" src="../media/gobs_upgrade_database_structure.jpg"></p>
  </article>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.1/highlight.min.js">
  </script>
  <script>
   hljs.initHighlightingOnLoad();
  </script>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript">
  </script>
  <script type="text/javascript">
   MathJax.Hub.Config({"showProcessingMessages" : false,"messageStyle" : "none","tex2jax": { inlineMath: [ [ "$", "$" ] ] }});
  </script>
 </body>
</html>
