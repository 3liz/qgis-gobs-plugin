{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"GObs # Concepts Admin guide User guide Installation Database Processing Old french concepts doc","title":"Home"},{"location":"#gobs","text":"Concepts Admin guide User guide Installation Database Processing Old french concepts doc","title":"GObs"},{"location":"CHANGELOG/","text":"Changelog # Unreleased # 5.0.0 - 2021-04-07 # Add button in the help menu to open the online webpage https://docs.3liz.org/qgis-gobs-plugin Raise the QGIS minimum version to 3.16 Update the documentation website with MkDocs 0.4.3 - 2021-04-07 # Actor - Add a new \"a_login\" column with unique constraint Administration - Update QGIS admin project template Docs - Update Schemaspy 0.4.2 - 2021-03-15 # Import observations - specify the series spatial layer id to match spatial objects: fix some bugs if spatial objects shared the same codes for different spatial layers. Import - Spatial layer: add new SQL functions to check related observations Admin - Update the QGIS administration project template with the new document layer Doc - Update Schemaspy database documentation 0.4.1 - 2020-12-02 # Admin - Update administration project template Docs - Update admin guide Docs - Add Processing documentation Docs - Update SchemaSpy database structure documentation: https://docs.3liz.org/qgis-gobs-plugin/database/ Docs - Database doc generation: improve compatibility with PG13 Fix some packaging issues about Transifex 0.4.0 - 2020-12-02 # Database structure - Add needed tables and fields for G-Event API: indicator: category, created_at and updated_at observation: end timestamp, uid, created_at and updated_at spatial object: start and end of validity dates, uid, created_at and updated_at new table document to store indicator documents new table deleted_data_log to store indicator documents new trigger to calculate created_at and updated_at, and auto-change validity date for spatial objects Import - Observation data: manage new field end date (manual or from field) Import - Spatial layer objects: allow multiple versions with validity dates Test data - Add tracks data & update pluviometers and cities data Tests - Add test for the import spatial layer data algorithm Docs - Update database documentation Continuous Integration - Move from CI to GitHub actions Makefile - Add sql command to export & reformat SQL install scripts Docs - Improve administration guide 0.3.1 - 2020-08-12 # Documentation - Publish documentation to https://3liz.github.io/qgis-gobs-plugin/ (installation, concepts, admin guide, user guide & database) Algorithms - New algorithm to create a database local interface for admins as a QGIS project Active PostgreSQL connection - Use a QGIS project variable instead of a QGIS global variable to store the connection name used Dock - Reorganize buttons, display the chosen database connection on top Dock - Replace helps buttons by single online help button 0.3.0 - 2020-06-17 # Remove spatial layer data - new algorithm to proceed spatial layer data deletion Remove series data - new algorithm to proceed observation data deletion QGIS gobs_manager project - change SCR and map extent Get observation data - Add option to also get the corresponding geometry Publish on GitHub: https://github.com/3liz/qgis-gobs-plugin 0.2.11 - 2020-06-05 # Import scripts - Fix bugs related to old use of self.tr instead of tr 0.2.10 - 2020-05-28 # Import spatial layer - Fix bug with points & linestrings 0.2.9 - 2020-05-27 # Import observation data - Explicitly convert source value to target format and remove useless spaces from source data Import spatial layer - Check geometry types compatibility between QGIS layer and target spatial layer Demo data - fix encoding for sub-districts layer Continuous integration & test - many fixes and improvements 0.2.8 - 2020-05-05 # Import spatial layer data - Use ST_Buffer(geom, 0) to remove invalid geometries Import spatial layer data - Fix bug when opening form Documentation - Describe each algorithm usage and parameters. Documentation - Add 2 button to see Concepts and Database schema 0.2.7 - 2020-03-12 # Rename name, title, label, code fields into normalized code label Import observation data - Adapt alg inputs based on the indicator characteristics 0.2.6 - 2020-03-06 # Create db structure - Fix bug when adding test data Move comments in specific SQL script file 0.2.5 - 2020-02-24 # Database - Update installation scripts & documentation QGIS - Fix bug with indicator type values (remove default value) Import observation - add constraint to override data only if not yet validated Feedback - Use reportError instead of pushInfo when needed Import observation - Remove useless series id in the end of series combobox Get series data - Fix bug giving wrong vector dimensions && remove useless series id in combo boxes","title":"Changelog"},{"location":"CHANGELOG/#changelog","text":"","title":"Changelog"},{"location":"CHANGELOG/#unreleased","text":"","title":"Unreleased"},{"location":"CHANGELOG/#500-2021-04-07","text":"Add button in the help menu to open the online webpage https://docs.3liz.org/qgis-gobs-plugin Raise the QGIS minimum version to 3.16 Update the documentation website with MkDocs","title":"5.0.0 - 2021-04-07"},{"location":"CHANGELOG/#043-2021-04-07","text":"Actor - Add a new \"a_login\" column with unique constraint Administration - Update QGIS admin project template Docs - Update Schemaspy","title":"0.4.3 - 2021-04-07"},{"location":"CHANGELOG/#042-2021-03-15","text":"Import observations - specify the series spatial layer id to match spatial objects: fix some bugs if spatial objects shared the same codes for different spatial layers. Import - Spatial layer: add new SQL functions to check related observations Admin - Update the QGIS administration project template with the new document layer Doc - Update Schemaspy database documentation","title":"0.4.2 - 2021-03-15"},{"location":"CHANGELOG/#041-2020-12-02","text":"Admin - Update administration project template Docs - Update admin guide Docs - Add Processing documentation Docs - Update SchemaSpy database structure documentation: https://docs.3liz.org/qgis-gobs-plugin/database/ Docs - Database doc generation: improve compatibility with PG13 Fix some packaging issues about Transifex","title":"0.4.1 - 2020-12-02"},{"location":"CHANGELOG/#040-2020-12-02","text":"Database structure - Add needed tables and fields for G-Event API: indicator: category, created_at and updated_at observation: end timestamp, uid, created_at and updated_at spatial object: start and end of validity dates, uid, created_at and updated_at new table document to store indicator documents new table deleted_data_log to store indicator documents new trigger to calculate created_at and updated_at, and auto-change validity date for spatial objects Import - Observation data: manage new field end date (manual or from field) Import - Spatial layer objects: allow multiple versions with validity dates Test data - Add tracks data & update pluviometers and cities data Tests - Add test for the import spatial layer data algorithm Docs - Update database documentation Continuous Integration - Move from CI to GitHub actions Makefile - Add sql command to export & reformat SQL install scripts Docs - Improve administration guide","title":"0.4.0 - 2020-12-02"},{"location":"CHANGELOG/#031-2020-08-12","text":"Documentation - Publish documentation to https://3liz.github.io/qgis-gobs-plugin/ (installation, concepts, admin guide, user guide & database) Algorithms - New algorithm to create a database local interface for admins as a QGIS project Active PostgreSQL connection - Use a QGIS project variable instead of a QGIS global variable to store the connection name used Dock - Reorganize buttons, display the chosen database connection on top Dock - Replace helps buttons by single online help button","title":"0.3.1 - 2020-08-12"},{"location":"CHANGELOG/#030-2020-06-17","text":"Remove spatial layer data - new algorithm to proceed spatial layer data deletion Remove series data - new algorithm to proceed observation data deletion QGIS gobs_manager project - change SCR and map extent Get observation data - Add option to also get the corresponding geometry Publish on GitHub: https://github.com/3liz/qgis-gobs-plugin","title":"0.3.0 - 2020-06-17"},{"location":"CHANGELOG/#0211-2020-06-05","text":"Import scripts - Fix bugs related to old use of self.tr instead of tr","title":"0.2.11 - 2020-06-05"},{"location":"CHANGELOG/#0210-2020-05-28","text":"Import spatial layer - Fix bug with points & linestrings","title":"0.2.10 - 2020-05-28"},{"location":"CHANGELOG/#029-2020-05-27","text":"Import observation data - Explicitly convert source value to target format and remove useless spaces from source data Import spatial layer - Check geometry types compatibility between QGIS layer and target spatial layer Demo data - fix encoding for sub-districts layer Continuous integration & test - many fixes and improvements","title":"0.2.9 - 2020-05-27"},{"location":"CHANGELOG/#028-2020-05-05","text":"Import spatial layer data - Use ST_Buffer(geom, 0) to remove invalid geometries Import spatial layer data - Fix bug when opening form Documentation - Describe each algorithm usage and parameters. Documentation - Add 2 button to see Concepts and Database schema","title":"0.2.8 - 2020-05-05"},{"location":"CHANGELOG/#027-2020-03-12","text":"Rename name, title, label, code fields into normalized code label Import observation data - Adapt alg inputs based on the indicator characteristics","title":"0.2.7 - 2020-03-12"},{"location":"CHANGELOG/#026-2020-03-06","text":"Create db structure - Fix bug when adding test data Move comments in specific SQL script file","title":"0.2.6 - 2020-03-06"},{"location":"CHANGELOG/#025-2020-02-24","text":"Database - Update installation scripts & documentation QGIS - Fix bug with indicator type values (remove default value) Import observation - add constraint to override data only if not yet validated Feedback - Use reportError instead of pushInfo when needed Import observation - Remove useless series id in the end of series combobox Get series data - Fix bug giving wrong vector dimensions && remove useless series id in combo boxes","title":"0.2.5 - 2020-02-24"},{"location":"CONTRIBUTING/","text":"Contributing # Documentation # The documentation is using MkDocs with Material : 1 2 pip install -r requirements/doc.txt mkdocs serve Database # On a new database, if you want to install the database with migrations : 1 2 3 import os os . environ [ 'TEST_DATABASE_INSTALL_GOBS' ] = '0.2.2' # Enable del os . environ [ 'TEST_DATABASE_INSTALL_GOBS' ] # Disable","title":"Contributing"},{"location":"CONTRIBUTING/#contributing","text":"","title":"Contributing"},{"location":"CONTRIBUTING/#documentation","text":"The documentation is using MkDocs with Material : 1 2 pip install -r requirements/doc.txt mkdocs serve","title":"Documentation"},{"location":"CONTRIBUTING/#database","text":"On a new database, if you want to install the database with migrations : 1 2 3 import os os . environ [ 'TEST_DATABASE_INSTALL_GOBS' ] = '0.2.2' # Enable del os . environ [ 'TEST_DATABASE_INSTALL_GOBS' ] # Disable","title":"Database"},{"location":"changelog/","text":"Changelog # Unreleased # 5.0.0 - 2021-04-07 # Add button in the help menu to open the online webpage https://docs.3liz.org/qgis-gobs-plugin Raise the QGIS minimum version to 3.16 Update the documentation website with MkDocs 0.4.3 - 2021-04-07 # Actor - Add a new \"a_login\" column with unique constraint Administration - Update QGIS admin project template Docs - Update Schemaspy 0.4.2 - 2021-03-15 # Import observations - specify the series spatial layer id to match spatial objects: fix some bugs if spatial objects shared the same codes for different spatial layers. Import - Spatial layer: add new SQL functions to check related observations Admin - Update the QGIS administration project template with the new document layer Doc - Update Schemaspy database documentation 0.4.1 - 2020-12-02 # Admin - Update administration project template Docs - Update admin guide Docs - Add Processing documentation Docs - Update SchemaSpy database structure documentation: https://docs.3liz.org/qgis-gobs-plugin/database/ Docs - Database doc generation: improve compatibility with PG13 Fix some packaging issues about Transifex 0.4.0 - 2020-12-02 # Database structure - Add needed tables and fields for G-Event API: indicator: category, created_at and updated_at observation: end timestamp, uid, created_at and updated_at spatial object: start and end of validity dates, uid, created_at and updated_at new table document to store indicator documents new table deleted_data_log to store indicator documents new trigger to calculate created_at and updated_at, and auto-change validity date for spatial objects Import - Observation data: manage new field end date (manual or from field) Import - Spatial layer objects: allow multiple versions with validity dates Test data - Add tracks data & update pluviometers and cities data Tests - Add test for the import spatial layer data algorithm Docs - Update database documentation Continuous Integration - Move from CI to GitHub actions Makefile - Add sql command to export & reformat SQL install scripts Docs - Improve administration guide 0.3.1 - 2020-08-12 # Documentation - Publish documentation to https://3liz.github.io/qgis-gobs-plugin/ (installation, concepts, admin guide, user guide & database) Algorithms - New algorithm to create a database local interface for admins as a QGIS project Active PostgreSQL connection - Use a QGIS project variable instead of a QGIS global variable to store the connection name used Dock - Reorganize buttons, display the chosen database connection on top Dock - Replace helps buttons by single online help button 0.3.0 - 2020-06-17 # Remove spatial layer data - new algorithm to proceed spatial layer data deletion Remove series data - new algorithm to proceed observation data deletion QGIS gobs_manager project - change SCR and map extent Get observation data - Add option to also get the corresponding geometry Publish on GitHub: https://github.com/3liz/qgis-gobs-plugin 0.2.11 - 2020-06-05 # Import scripts - Fix bugs related to old use of self.tr instead of tr 0.2.10 - 2020-05-28 # Import spatial layer - Fix bug with points & linestrings 0.2.9 - 2020-05-27 # Import observation data - Explicitly convert source value to target format and remove useless spaces from source data Import spatial layer - Check geometry types compatibility between QGIS layer and target spatial layer Demo data - fix encoding for sub-districts layer Continuous integration & test - many fixes and improvements 0.2.8 - 2020-05-05 # Import spatial layer data - Use ST_Buffer(geom, 0) to remove invalid geometries Import spatial layer data - Fix bug when opening form Documentation - Describe each algorithm usage and parameters. Documentation - Add 2 button to see Concepts and Database schema 0.2.7 - 2020-03-12 # Rename name, title, label, code fields into normalized code label Import observation data - Adapt alg inputs based on the indicator characteristics 0.2.6 - 2020-03-06 # Create db structure - Fix bug when adding test data Move comments in specific SQL script file 0.2.5 - 2020-02-24 # Database - Update installation scripts & documentation QGIS - Fix bug with indicator type values (remove default value) Import observation - add constraint to override data only if not yet validated Feedback - Use reportError instead of pushInfo when needed Import observation - Remove useless series id in the end of series combobox Get series data - Fix bug giving wrong vector dimensions && remove useless series id in combo boxes","title":"Changelog"},{"location":"changelog/#changelog","text":"","title":"Changelog"},{"location":"changelog/#unreleased","text":"","title":"Unreleased"},{"location":"changelog/#500-2021-04-07","text":"Add button in the help menu to open the online webpage https://docs.3liz.org/qgis-gobs-plugin Raise the QGIS minimum version to 3.16 Update the documentation website with MkDocs","title":"5.0.0 - 2021-04-07"},{"location":"changelog/#043-2021-04-07","text":"Actor - Add a new \"a_login\" column with unique constraint Administration - Update QGIS admin project template Docs - Update Schemaspy","title":"0.4.3 - 2021-04-07"},{"location":"changelog/#042-2021-03-15","text":"Import observations - specify the series spatial layer id to match spatial objects: fix some bugs if spatial objects shared the same codes for different spatial layers. Import - Spatial layer: add new SQL functions to check related observations Admin - Update the QGIS administration project template with the new document layer Doc - Update Schemaspy database documentation","title":"0.4.2 - 2021-03-15"},{"location":"changelog/#041-2020-12-02","text":"Admin - Update administration project template Docs - Update admin guide Docs - Add Processing documentation Docs - Update SchemaSpy database structure documentation: https://docs.3liz.org/qgis-gobs-plugin/database/ Docs - Database doc generation: improve compatibility with PG13 Fix some packaging issues about Transifex","title":"0.4.1 - 2020-12-02"},{"location":"changelog/#040-2020-12-02","text":"Database structure - Add needed tables and fields for G-Event API: indicator: category, created_at and updated_at observation: end timestamp, uid, created_at and updated_at spatial object: start and end of validity dates, uid, created_at and updated_at new table document to store indicator documents new table deleted_data_log to store indicator documents new trigger to calculate created_at and updated_at, and auto-change validity date for spatial objects Import - Observation data: manage new field end date (manual or from field) Import - Spatial layer objects: allow multiple versions with validity dates Test data - Add tracks data & update pluviometers and cities data Tests - Add test for the import spatial layer data algorithm Docs - Update database documentation Continuous Integration - Move from CI to GitHub actions Makefile - Add sql command to export & reformat SQL install scripts Docs - Improve administration guide","title":"0.4.0 - 2020-12-02"},{"location":"changelog/#031-2020-08-12","text":"Documentation - Publish documentation to https://3liz.github.io/qgis-gobs-plugin/ (installation, concepts, admin guide, user guide & database) Algorithms - New algorithm to create a database local interface for admins as a QGIS project Active PostgreSQL connection - Use a QGIS project variable instead of a QGIS global variable to store the connection name used Dock - Reorganize buttons, display the chosen database connection on top Dock - Replace helps buttons by single online help button","title":"0.3.1 - 2020-08-12"},{"location":"changelog/#030-2020-06-17","text":"Remove spatial layer data - new algorithm to proceed spatial layer data deletion Remove series data - new algorithm to proceed observation data deletion QGIS gobs_manager project - change SCR and map extent Get observation data - Add option to also get the corresponding geometry Publish on GitHub: https://github.com/3liz/qgis-gobs-plugin","title":"0.3.0 - 2020-06-17"},{"location":"changelog/#0211-2020-06-05","text":"Import scripts - Fix bugs related to old use of self.tr instead of tr","title":"0.2.11 - 2020-06-05"},{"location":"changelog/#0210-2020-05-28","text":"Import spatial layer - Fix bug with points & linestrings","title":"0.2.10 - 2020-05-28"},{"location":"changelog/#029-2020-05-27","text":"Import observation data - Explicitly convert source value to target format and remove useless spaces from source data Import spatial layer - Check geometry types compatibility between QGIS layer and target spatial layer Demo data - fix encoding for sub-districts layer Continuous integration & test - many fixes and improvements","title":"0.2.9 - 2020-05-27"},{"location":"changelog/#028-2020-05-05","text":"Import spatial layer data - Use ST_Buffer(geom, 0) to remove invalid geometries Import spatial layer data - Fix bug when opening form Documentation - Describe each algorithm usage and parameters. Documentation - Add 2 button to see Concepts and Database schema","title":"0.2.8 - 2020-05-05"},{"location":"changelog/#027-2020-03-12","text":"Rename name, title, label, code fields into normalized code label Import observation data - Adapt alg inputs based on the indicator characteristics","title":"0.2.7 - 2020-03-12"},{"location":"changelog/#026-2020-03-06","text":"Create db structure - Fix bug when adding test data Move comments in specific SQL script file","title":"0.2.6 - 2020-03-06"},{"location":"changelog/#025-2020-02-24","text":"Database - Update installation scripts & documentation QGIS - Fix bug with indicator type values (remove default value) Import observation - add constraint to override data only if not yet validated Feedback - Use reportError instead of pushInfo when needed Import observation - Remove useless series id in the end of series combobox Get series data - Fix bug giving wrong vector dimensions && remove useless series id in combo boxes","title":"0.2.5 - 2020-02-24"},{"location":"contributing/","text":"Contributing # Documentation # The documentation is using MkDocs with Material : 1 2 pip install -r requirements/doc.txt mkdocs serve Database # On a new database, if you want to install the database with migrations : 1 2 3 import os os . environ [ 'TEST_DATABASE_INSTALL_GOBS' ] = '0.2.2' # Enable del os . environ [ 'TEST_DATABASE_INSTALL_GOBS' ] # Disable","title":"Contribution"},{"location":"contributing/#contributing","text":"","title":"Contributing"},{"location":"contributing/#documentation","text":"The documentation is using MkDocs with Material : 1 2 pip install -r requirements/doc.txt mkdocs serve","title":"Documentation"},{"location":"contributing/#database","text":"On a new database, if you want to install the database with migrations : 1 2 3 import os os . environ [ 'TEST_DATABASE_INSTALL_GOBS' ] = '0.2.2' # Enable del os . environ [ 'TEST_DATABASE_INSTALL_GOBS' ] # Disable","title":"Database"},{"location":"admin-guide/","text":"Introduction # The administrator is in charge of describing the different data stored in the G-Obs database: actors, spatial layers, protocols, indicators, series of data. See the documentation on these concepts . To go on, you must first have installed and configured the G-Obs plugin for QGIS Desktop. See the doc G-Obs installation and configuration Create your database local interface # This algorithm will create a new QGIS project file for G-Obs administration purpose. The generated QGIS project must then be opened by the administrator to create the needed metadata by using QGIS editing capabilities (actors, spatial layers information, indicators, etc.) Parameters: PostgreSQL connection to G-Obs database : name of the database connection you would like to use for the new QGIS project. QGIS project file to create : choose the output file destination. We advise you to choose a name reflecting the G-Obs database name. Edit the database metadata # The administration project # The administration project created beforehand will allow the administrator to create, modify and delete metadata in the G-Obs database. As an administrator, you must open this project with QGIS. Before going on, be sure you have a working connection between your computer and the database server. Once opened, the QGIS project is configured to allow the administrator to edit the data. In the QGIS Layers panel, you will see the following layers: These layers represent the G-Obs PostgreSQL tables which are in charge of storing the metadata and data. They are organized in two groups in the Layers panel: Metadata : group containing the layers you need to edit to add metadata on actors, protocols, series, etc. Data : group containing the data stored in the database. Do no edit these layers How to edit the metadata # In QGIS, you can edit the layer data by toggling the editing mode for each layer: Select the layer in the panel by clicking on it: the layer is highlighted in blue Right-click on the layer name and select Toggle Editing or use the menu Layer / Toggle Editing Before going on, please toggle editing for all the following layers: actor_category actor spatial_layer indicator protocol series Please refer to the documentation on G-Obs concepts to understand the meaning of each layer. To add a new record , select the layer in the Layers panel, then use the menu Edit / Add record (or CTRL+. ). It will open a form wich lets you enter the needed data. Once every required fields have been filled, validate with the OK button on the bottom-right. To view all the records of a layer, select the layer in the Layers panel, then open the attribute table with the menu Layers / Open attribute table (or F6 ) You can undo previous modifications with the menu Edit / Undo (or CTRL+Z ). To permanently save the changed data in the layer, you need to use the menu Layer / Saver layer edits . After saving the data, you will not be able to undo your changes (but you can always reopen the data and changed the values). To edit a record , open the layer attribute table, and then click on the small button Switch to form view on the bottom-right of the dialog (the first one). Then select a record in the left panel, and use the displayed form to edit the data. To delete a record , select the record in the attribute table by clicking on the line number on the left: the line must be highlighted in blue. Then use the trash icon Delete selected features (or Del ). You can undo the deletion if you have not yet saved layer edits . Example data # actor_category # Example content: id ac_label ac_description 1 Public organizations 2 Research centers Notes: Id will be automatically given after saving layer edits. Do not modify. Label and description are mandatory actor # Example content id a_label a_description a_email id_category 1 IGN French national geographical institute. contact@ign.fr 1 3 DREAL Bretagne Direction r\u00e9gionale de l'environnement, de l'am\u00e9nagement et du logement, r\u00e9gion Bretagne. email@dreal.fr 1 2 CIRAD The French agricultural research and international cooperation organization working for the sustainable development of tropical and Mediterranean regions. contact@cirad.fr 2 Notes: Id will be automatically given after saving layer edits. Do not modify. All fields are mandatory The list of categories is taken from the actor_category table. You should add new entry in this table beforehand if needed. spatial_layer # Example content id sl_code sl_label sl_description sl_creation_date fk_id_actor sl_geometry_type 1 pluviometers Pluviometers Sites equiped with pluviometers to measure rainfalls 2019-06-26 2 point 2 brittany-cities Cities of Brittany , France Cities of Brittany, France 2019-07-05 2 multipolygon Notes: Id will be automatically given after saving layer edits. Do not modify. All fields are mandatory Label will be used as the display name Code will be used as a unique text identifier for the spatial layer. Please do not use spaces, accentuated characters or punctuation symbol . Geometry type must be chosen with care and must reflect the data type of the source vector layer to import for these spatial layer. Usually, for polygon layers, it is safer to use MultiPolygon (to be able to represent islands or holes) Actors combobox comes from the data of the actor layer Creation date is automatically set with the current date, but you can change it if needed. indicator # Example content id id_code id_label id_description id_date_format id_value_code id_value_name id_value_type id_value_unit id_paths id_category created_at updated_at 1 pluviometry Hourly pluviometry Hourly rainfall pluviometry in millimetre hour {pluviometry} {Pluviometry} {real} {mm} Environment / Water / Data, Physical and chemical conditions / Water Water 2020-12-02 15:06:29.11064 2020-12-02 15:06:29.11064 2 population Population Number of inhabitants for city year {population} {Population} {integer} {people} Socio-eco / Demography / Population Population 2020-12-02 15:06:29.11064 2020-12-02 15:06:29.11064 3 hiker_position Hikers position Position and altitude of hikers second {altitude} {Altitude} {integer} {m} Hiking / Tracks Tracks 2020-12-02 15:06:29.11064 2020-12-02 15:06:29.11064 Notes: Id will be automatically given after saving layer edits. Do not modify. Code is the unique text identifier of the indicator. Please do not use spaces, accentuated characters or punctuation symbol . Label is the display name Date format is the temporal resolution of the data which will be imported for this indicator. Please choose with care, depending on the source data and the information you would like to create from it. Category The optionnal category of the indicator. You can type some letters to search among the existing values. If you need to enter a new category, write it down. The fields Codes, Names, Types and Units allow to define one or many dimensions for this indicator. You can add one item in each field with the plus + button, or delete the selected one with the minus - button. The order of the data entered for each field must be respected . For example, if the indicator has two dimensions to store weather data: temperature & hygrometry, you could use: Codes : Code of the dimension. Please do not use spaces, accentuated characters or punctuation symbol Value temperature hygrometry Names : Label of the dimension. You can use any necessary characters Value Temp\u00e9rature Hygrom\u00e9trie Types : data type. You must choose among: text , integer , real , date , timestamp , boolean Value real integer Units : Unit of the dimension. You can use any text. Value \u00b0C % The Paths can be used to define an oriented graph which will help the future users to find the indicator among many. separated words or expressions with a coma , will define a list of nodes. For example, Environment, Agriculture will define two independant nodes Environment and Agriculture separated keywords with a slash / will also define nodes, but also parent to child relations. For example, Environment / Water / Analyses will create 3 nodes Environment , Water and Analyses . Environment is the parent of Water , which is the parent of Analyses You can combine them, for example Environment / Water / Analyses, Environment / Water / Resources, Agriculture / Resources will lead to the following graph: The creation & update timestamps are automatically calculated when data is saved. protocol # Example content id pr_code pr_label pr_description 1 cirad-pluviometry Pluviometry Measure of rainfall in mm 2 cirad-population Population Number of inhabitants obtained from census. Notes: Id will be automatically given after saving layer edits. Do not modify. All fields are mandatory Label will be used as the display name. Code is a unique text identifier for the protocol. Please do not use spaces, accentuated characters or punctuation symbol Description allows to enter multiple lines to describe the protocol. series # Example content id fk_id_protocol fk_id_actor fk_id_indicator fk_id_spatial_layer 1 1 2 1 1 2 2 2 2 2 Notes: Id will be automatically given after saving layer edits. Do not modify. All fields are mandatory A series is caracterized by a protocol, an actor, an indicator and a spatial layer . You must have created needed items beforehand in the corresponding layers (and save those layers edits) before creating the series.","title":"Admin guide"},{"location":"admin-guide/#introduction","text":"The administrator is in charge of describing the different data stored in the G-Obs database: actors, spatial layers, protocols, indicators, series of data. See the documentation on these concepts . To go on, you must first have installed and configured the G-Obs plugin for QGIS Desktop. See the doc G-Obs installation and configuration","title":"Introduction"},{"location":"admin-guide/#create-your-database-local-interface","text":"This algorithm will create a new QGIS project file for G-Obs administration purpose. The generated QGIS project must then be opened by the administrator to create the needed metadata by using QGIS editing capabilities (actors, spatial layers information, indicators, etc.) Parameters: PostgreSQL connection to G-Obs database : name of the database connection you would like to use for the new QGIS project. QGIS project file to create : choose the output file destination. We advise you to choose a name reflecting the G-Obs database name.","title":"Create your database local interface"},{"location":"admin-guide/#edit-the-database-metadata","text":"","title":"Edit the database metadata"},{"location":"admin-guide/#the-administration-project","text":"The administration project created beforehand will allow the administrator to create, modify and delete metadata in the G-Obs database. As an administrator, you must open this project with QGIS. Before going on, be sure you have a working connection between your computer and the database server. Once opened, the QGIS project is configured to allow the administrator to edit the data. In the QGIS Layers panel, you will see the following layers: These layers represent the G-Obs PostgreSQL tables which are in charge of storing the metadata and data. They are organized in two groups in the Layers panel: Metadata : group containing the layers you need to edit to add metadata on actors, protocols, series, etc. Data : group containing the data stored in the database. Do no edit these layers","title":"The administration project"},{"location":"admin-guide/#how-to-edit-the-metadata","text":"In QGIS, you can edit the layer data by toggling the editing mode for each layer: Select the layer in the panel by clicking on it: the layer is highlighted in blue Right-click on the layer name and select Toggle Editing or use the menu Layer / Toggle Editing Before going on, please toggle editing for all the following layers: actor_category actor spatial_layer indicator protocol series Please refer to the documentation on G-Obs concepts to understand the meaning of each layer. To add a new record , select the layer in the Layers panel, then use the menu Edit / Add record (or CTRL+. ). It will open a form wich lets you enter the needed data. Once every required fields have been filled, validate with the OK button on the bottom-right. To view all the records of a layer, select the layer in the Layers panel, then open the attribute table with the menu Layers / Open attribute table (or F6 ) You can undo previous modifications with the menu Edit / Undo (or CTRL+Z ). To permanently save the changed data in the layer, you need to use the menu Layer / Saver layer edits . After saving the data, you will not be able to undo your changes (but you can always reopen the data and changed the values). To edit a record , open the layer attribute table, and then click on the small button Switch to form view on the bottom-right of the dialog (the first one). Then select a record in the left panel, and use the displayed form to edit the data. To delete a record , select the record in the attribute table by clicking on the line number on the left: the line must be highlighted in blue. Then use the trash icon Delete selected features (or Del ). You can undo the deletion if you have not yet saved layer edits .","title":"How to edit the metadata"},{"location":"admin-guide/#example-data","text":"","title":"Example data"},{"location":"admin-guide/#actor_category","text":"Example content: id ac_label ac_description 1 Public organizations 2 Research centers Notes: Id will be automatically given after saving layer edits. Do not modify. Label and description are mandatory","title":"actor_category"},{"location":"admin-guide/#actor","text":"Example content id a_label a_description a_email id_category 1 IGN French national geographical institute. contact@ign.fr 1 3 DREAL Bretagne Direction r\u00e9gionale de l'environnement, de l'am\u00e9nagement et du logement, r\u00e9gion Bretagne. email@dreal.fr 1 2 CIRAD The French agricultural research and international cooperation organization working for the sustainable development of tropical and Mediterranean regions. contact@cirad.fr 2 Notes: Id will be automatically given after saving layer edits. Do not modify. All fields are mandatory The list of categories is taken from the actor_category table. You should add new entry in this table beforehand if needed.","title":"actor"},{"location":"admin-guide/#spatial_layer","text":"Example content id sl_code sl_label sl_description sl_creation_date fk_id_actor sl_geometry_type 1 pluviometers Pluviometers Sites equiped with pluviometers to measure rainfalls 2019-06-26 2 point 2 brittany-cities Cities of Brittany , France Cities of Brittany, France 2019-07-05 2 multipolygon Notes: Id will be automatically given after saving layer edits. Do not modify. All fields are mandatory Label will be used as the display name Code will be used as a unique text identifier for the spatial layer. Please do not use spaces, accentuated characters or punctuation symbol . Geometry type must be chosen with care and must reflect the data type of the source vector layer to import for these spatial layer. Usually, for polygon layers, it is safer to use MultiPolygon (to be able to represent islands or holes) Actors combobox comes from the data of the actor layer Creation date is automatically set with the current date, but you can change it if needed.","title":"spatial_layer"},{"location":"admin-guide/#indicator","text":"Example content id id_code id_label id_description id_date_format id_value_code id_value_name id_value_type id_value_unit id_paths id_category created_at updated_at 1 pluviometry Hourly pluviometry Hourly rainfall pluviometry in millimetre hour {pluviometry} {Pluviometry} {real} {mm} Environment / Water / Data, Physical and chemical conditions / Water Water 2020-12-02 15:06:29.11064 2020-12-02 15:06:29.11064 2 population Population Number of inhabitants for city year {population} {Population} {integer} {people} Socio-eco / Demography / Population Population 2020-12-02 15:06:29.11064 2020-12-02 15:06:29.11064 3 hiker_position Hikers position Position and altitude of hikers second {altitude} {Altitude} {integer} {m} Hiking / Tracks Tracks 2020-12-02 15:06:29.11064 2020-12-02 15:06:29.11064 Notes: Id will be automatically given after saving layer edits. Do not modify. Code is the unique text identifier of the indicator. Please do not use spaces, accentuated characters or punctuation symbol . Label is the display name Date format is the temporal resolution of the data which will be imported for this indicator. Please choose with care, depending on the source data and the information you would like to create from it. Category The optionnal category of the indicator. You can type some letters to search among the existing values. If you need to enter a new category, write it down. The fields Codes, Names, Types and Units allow to define one or many dimensions for this indicator. You can add one item in each field with the plus + button, or delete the selected one with the minus - button. The order of the data entered for each field must be respected . For example, if the indicator has two dimensions to store weather data: temperature & hygrometry, you could use: Codes : Code of the dimension. Please do not use spaces, accentuated characters or punctuation symbol Value temperature hygrometry Names : Label of the dimension. You can use any necessary characters Value Temp\u00e9rature Hygrom\u00e9trie Types : data type. You must choose among: text , integer , real , date , timestamp , boolean Value real integer Units : Unit of the dimension. You can use any text. Value \u00b0C % The Paths can be used to define an oriented graph which will help the future users to find the indicator among many. separated words or expressions with a coma , will define a list of nodes. For example, Environment, Agriculture will define two independant nodes Environment and Agriculture separated keywords with a slash / will also define nodes, but also parent to child relations. For example, Environment / Water / Analyses will create 3 nodes Environment , Water and Analyses . Environment is the parent of Water , which is the parent of Analyses You can combine them, for example Environment / Water / Analyses, Environment / Water / Resources, Agriculture / Resources will lead to the following graph: The creation & update timestamps are automatically calculated when data is saved.","title":"indicator"},{"location":"admin-guide/#protocol","text":"Example content id pr_code pr_label pr_description 1 cirad-pluviometry Pluviometry Measure of rainfall in mm 2 cirad-population Population Number of inhabitants obtained from census. Notes: Id will be automatically given after saving layer edits. Do not modify. All fields are mandatory Label will be used as the display name. Code is a unique text identifier for the protocol. Please do not use spaces, accentuated characters or punctuation symbol Description allows to enter multiple lines to describe the protocol.","title":"protocol"},{"location":"admin-guide/#series","text":"Example content id fk_id_protocol fk_id_actor fk_id_indicator fk_id_spatial_layer 1 1 2 1 1 2 2 2 2 2 Notes: Id will be automatically given after saving layer edits. Do not modify. All fields are mandatory A series is caracterized by a protocol, an actor, an indicator and a spatial layer . You must have created needed items beforehand in the corresponding layers (and save those layers edits) before creating the series.","title":"series"},{"location":"concepts/","text":"G-Obs presentation # Old concept in French Glossary # Actor # Person or legal person belonging to one actor category and allowed to take on several roles in the observation/action loop. It has a name , an email address , a contact person . Actor category # A group of actors sharing the same social status (ex: administrations, NGO, etc.) Spatial object # A geo-referenced entity characterized by a type of geometry (point, line, polygon) and a coordinate system , and which coincides with a geometry at each time stamp. In the case of fixed spatial objects, the geometry remains unchanged (ex: village boundaries are fixed multi polygon) Otherwise it varies along time ex 1: sand track = polyline varying along time ex 2: ship = polygon moving along time. Spatial layer # A group of spatial objects produced by a given actor and sharing the same coordinate system. It has a code , a name , a description . Protocol # Observation method for scientific purpose. It has a code , a name , a description , and bibliographic references . Indicator # Abstraction of observation series for decision-making purposes. It has a name , a definition , a type of geometry , a granularity and a frequency . It may correspond to several series obeying different protocols only if these protocols are close enough to keep the semantics of the indicator with respect to decision. For example, a more precise temperature sensor replaces an old one, with the same spatial granularity and acquisition frequencies. Data series # Set of observations ruled by the same protocol , linked to the same indicator and the same spatial layer , and produced by the same actor . It is possible to produce a data series by combining several data series: the protocol of the new series embeds the combination formula. Observation / Data # Element of a series characterized by the observation context (spatial object, date) and the observed values for a set of observation dimensions. Observation dimensions # For example, if we wish to record inside a single observation a quantity of men and a quantity of women, there are two dimensions: nb of men and nb of women . Each dimension has a label (ex: nb of women), a type (ex: integer), a unit (ex: person), an alias (ex: population of women). Import dataset # A physical set of observations aimed at feeding a given series. It has a code . Its structure must match the structure of the target data series. Informational service # A representation usable by actors for information or decision-making purposes. It aggregates and transforms heterogeneous data series. It is the role of the informational service administrator to administrate information services. Software function # Part of a software in charge of a numeric transformation . Roles in the observation/action loop # An actor may play several roles, among: Data producer, informational service producer, informational service administrator, informational service receiver/consumer. According to these roles, an actor has access to informational services and/or software functions . Examples # Pluviometry collected on meteorological stations # Source data: pluviometers : sites equiped with pluviometers to measure rainfalls, defined by a code, a name and a position (point) pluviometry : hourly rainfall pluviometry in millimetre, obtained by measuring the height of water in the pluviometers every hour. Population of cities # Source data: Cities of Brittany, France : defined by a code, a name and a polygon Population : Number of inhabitants for city, obtained from annual census.","title":"Main"},{"location":"concepts/#g-obs-presentation","text":"Old concept in French","title":"G-Obs presentation"},{"location":"concepts/#glossary","text":"","title":"Glossary"},{"location":"concepts/#actor","text":"Person or legal person belonging to one actor category and allowed to take on several roles in the observation/action loop. It has a name , an email address , a contact person .","title":"Actor"},{"location":"concepts/#actor-category","text":"A group of actors sharing the same social status (ex: administrations, NGO, etc.)","title":"Actor category"},{"location":"concepts/#spatial-object","text":"A geo-referenced entity characterized by a type of geometry (point, line, polygon) and a coordinate system , and which coincides with a geometry at each time stamp. In the case of fixed spatial objects, the geometry remains unchanged (ex: village boundaries are fixed multi polygon) Otherwise it varies along time ex 1: sand track = polyline varying along time ex 2: ship = polygon moving along time.","title":"Spatial object"},{"location":"concepts/#spatial-layer","text":"A group of spatial objects produced by a given actor and sharing the same coordinate system. It has a code , a name , a description .","title":"Spatial layer"},{"location":"concepts/#protocol","text":"Observation method for scientific purpose. It has a code , a name , a description , and bibliographic references .","title":"Protocol"},{"location":"concepts/#indicator","text":"Abstraction of observation series for decision-making purposes. It has a name , a definition , a type of geometry , a granularity and a frequency . It may correspond to several series obeying different protocols only if these protocols are close enough to keep the semantics of the indicator with respect to decision. For example, a more precise temperature sensor replaces an old one, with the same spatial granularity and acquisition frequencies.","title":"Indicator"},{"location":"concepts/#data-series","text":"Set of observations ruled by the same protocol , linked to the same indicator and the same spatial layer , and produced by the same actor . It is possible to produce a data series by combining several data series: the protocol of the new series embeds the combination formula.","title":"Data series"},{"location":"concepts/#observation-data","text":"Element of a series characterized by the observation context (spatial object, date) and the observed values for a set of observation dimensions.","title":"Observation\u00a0/ Data"},{"location":"concepts/#observation-dimensions","text":"For example, if we wish to record inside a single observation a quantity of men and a quantity of women, there are two dimensions: nb of men and nb of women . Each dimension has a label (ex: nb of women), a type (ex: integer), a unit (ex: person), an alias (ex: population of women).","title":"Observation dimensions"},{"location":"concepts/#import-dataset","text":"A physical set of observations aimed at feeding a given series. It has a code . Its structure must match the structure of the target data series.","title":"Import dataset"},{"location":"concepts/#informational-service","text":"A representation usable by actors for information or decision-making purposes. It aggregates and transforms heterogeneous data series. It is the role of the informational service administrator to administrate information services.","title":"Informational service"},{"location":"concepts/#software-function","text":"Part of a software in charge of a numeric transformation .","title":"Software function"},{"location":"concepts/#roles-in-the-observationaction-loop","text":"An actor may play several roles, among: Data producer, informational service producer, informational service administrator, informational service receiver/consumer. According to these roles, an actor has access to informational services and/or software functions .","title":"Roles in the observation/action loop"},{"location":"concepts/#examples","text":"","title":"Examples"},{"location":"concepts/#pluviometry-collected-on-meteorological-stations","text":"Source data: pluviometers : sites equiped with pluviometers to measure rainfalls, defined by a code, a name and a position (point) pluviometry : hourly rainfall pluviometry in millimetre, obtained by measuring the height of water in the pluviometers every hour.","title":"Pluviometry collected on meteorological stations"},{"location":"concepts/#population-of-cities","text":"Source data: Cities of Brittany, France : defined by a code, a name and a polygon Population : Number of inhabitants for city, obtained from annual census.","title":"Population of cities"},{"location":"concepts/old-french-doc/","text":"Documentation # Introduction # Le projet s'appelle G-Obs . Dictionnaire des concepts # Entit\u00e9 spatiale # Un objet d\u00e9fini par une g\u00e9om\u00e9trie et un identifiant unique. La g\u00e9om\u00e9trie peut \u00eatre variable dans le temps (ex: Piste). Elle est caract\u00e9ris\u00e9e par son type (Point, ligne, polygone, etc.), son syst\u00e8me de coordonn\u00e9es de r\u00e9f\u00e9rence. Couche spatiale # Un regroupement d'entit\u00e9s spatiales conceptuellement ou techniquement homog\u00e8ne, caract\u00e9ris\u00e9 par un nom et une source Observation # Une donn\u00e9e caract\u00e9ris\u00e9e par un nom d'observable, une entit\u00e9 spatiale, une date, une ou des valeurs, une source ou le code du jeu de donn\u00e9es qui la contient. Valeurs observ\u00e9es # Nous appelons valeurs les dimensions du vecteur qui porte les donn\u00e9es d'observations. Par exemple, si on souhaite enregistrer dans un vecteur la population des hommes et la population des femmes, le vecteur contiendra 2 valeurs \"population_homme\" et \"population_femme\". Dans la plupart des cas simples, le vecteur ne contiendra qu'une seule valeur (ex: \"pluviometrie\"). Chaque valeur est caract\u00e9ris\u00e9e par un nom (ex: \"pluviometrie\", un type (ex: \"integer\"), une unit\u00e9 (ex: \"mm\"), un alias (ex: \"Pluviom\u00e9trie journali\u00e8re\") Protocole # M\u00e9thode de recueil d'une s\u00e9rie d'observations en vue d'une exploitation scientifique. Il est caract\u00e9ris\u00e9 un code, un nom, une description, des r\u00e9f\u00e9rences bibliographiques. R\u00e9f\u00e9rence bibliographique # Document caract\u00e9ris\u00e9 par un type, un nom, une description, une URL S\u00e9rie d'observations # Un ensemble d'observations ob\u00e9issant au m\u00eame protocole. Si le protocole \u00e9volue, on doit cr\u00e9er une nouvelle s\u00e9rie d'observations, qui se rattache au nouveau protocole. On garde ainsi un historique qui est important pour la validation scientifique. Chaque s\u00e9rie est caract\u00e9ris\u00e9e par une source (acteur) et attach\u00e9e \u00e0 une couche spatiale. Si la couche spatiale \u00e9volue (ex: Communes fusionn\u00e9es, ou pluviom\u00e8tre rajout\u00e9 ou d\u00e9plac\u00e9), il faut cr\u00e9er une nouvelle couche spatiale et une nouvelle s\u00e9rie li\u00e9e. Exemple des banquettes en Tunisie: on cr\u00e9e une couche spatiale par an Exemple de suvi de d\u00e9placement de moutons: chaque mouton a un code unique et est r\u00e9f\u00e9renc\u00e9 par un ou plusieurs objets spatiaux. Son vrai identifiant est le couple so_unique_id et geom. Pour suivre l'\u00e9volution du d\u00e9placement de chaque mouton, on a donc plusieurs observations caract\u00e9ris\u00e9es chacune par un objet spatial diff\u00e9rent. Si on avait d'autres donn\u00e9es que la position GPS disponibles, on pourrait les ajouter dans la valeur de l'observation, par exemple le rythme cardiaque pour l'observation. Dans ce cas d'objets mobiles (ou de g\u00e9om\u00e9tries variables telles que des zonages), il n'est pas utile de cr\u00e9er une nouvelle s\u00e9rie \u00e0 chaque ajout ou modification de g\u00e9om\u00e9trie dans la couche spatiale. Jeu de donn\u00e9es # Un ensemble physique d'observations appartenant \u00e0 la m\u00eame s\u00e9rie. En pratique, le terme est utilis\u00e9 pour pr\u00e9senter un paquet de donn\u00e9es pr\u00e9sent\u00e9 \u00e0 un gestionnaire de donn\u00e9es. Il est caract\u00e9ris\u00e9 par un code, une source. Cela peut \u00eatre sous la forme d'un fichier excel par exemple. Au moment de l'import, le gestionnaire de donn\u00e9e va devoir choisir le jeu de donn\u00e9es \u00e0 importer (fichier tableur, CSV, etc.) et le rattacher \u00e0 une s\u00e9rie existante ou \u00e0 cr\u00e9er. Les jeux de donn\u00e9es source ne seront pas enregistr\u00e9s ni conserv\u00e9s dans le syst\u00e8me d'information apr\u00e8s import et conversion en observations. Acteur # Un organisme ou une personne capable de produire des observations (source), d'agir dans un territoire, de signer une charte dans le cadre d'une action collective. Il fournit les jeux de donn\u00e9es au gestionnaire de donn\u00e9es qui pourra les transformer en observations. Il peut aussi valider les observations apr\u00e8s avoir eu acc\u00e8s aux observations sous forme de services informationnels (cartes Lizmap). Il est caract\u00e9ris\u00e9 par un nom, un email, une personne contact, une cat\u00e9gorie Cat\u00e9gorie d'acteurs # Regroupement d'acteurs ayant les m\u00eames besoins en information. Ces cat\u00e9gories (ou \"groupes\") sont utilis\u00e9es par G-Obs pour d\u00e9terminer les services informationels \u00e0 disposition de l'acteur. Gestionnaire de donn\u00e9es # Il r\u00e9colte et centralise les jeux de donn\u00e9es fournis par les acteurs. C'est lui qui importe les donn\u00e9es dans le syst\u00e8me. Indicateur # Un regroupement de donn\u00e9es d'observation dans un but d'aide \u00e0 la d\u00e9cision. Il est caract\u00e9ris\u00e9 par un nom, une d\u00e9finition, un type d'entit\u00e9 spatiale, une granularit\u00e9 et une fr\u00e9quence temporelle. L'indicateur peut regrouper une seule s\u00e9rie d'observations. Il peut aussi \u00eatre utilis\u00e9 pour regrouper plusieurs s\u00e9ries ob\u00e9issant \u00e0 des protocoles diff\u00e9rents mais suffisamment voisins pour ne pas changer la s\u00e9mantique de l'indicateur. Par exemple, on a remplac\u00e9 un capteur de temp\u00e9rature par un nouveau syst\u00e8me plus pr\u00e9cis, mais on a conserv\u00e9 les fr\u00e9quences d'acquisition, les sites de mesure, etc. L'indicateur permet aussi de rassembler des donn\u00e9es observ\u00e9es sur des sites ou des terrains diff\u00e9rents. Si on souhaite utiliser des donn\u00e9es de plusieurs s\u00e9ries pour les combiner et cr\u00e9er une nouvelle donn\u00e9e, on devra passer par la cr\u00e9ation d'un nouvelle s\u00e9rie de donn\u00e9es dont le nouveau protocole contiendra la formule de calcul. C'est l'acteur source qui fera ce travail de cr\u00e9ation de la nouvelle s\u00e9rie. Chemins d'acc\u00e8s # Pour faciliter la navigation et le choix parmi les indicateurs, on rattache \u00e0 chaque indicateur un ou plusieurs chemins d'acc\u00e8s. Un chemin se caract\u00e9rise par une suite ordonn\u00e9e de mots-cl\u00e9s pr\u00e9cisant progressivement la th\u00e9matique puis l'indicateur. Par exemple, pour acc\u00e9der \u00e0 l'indicateur \"Pluviom\u00e9trie\", deux chemins sont possibles Environnement / Changement climatique / Pluviom\u00e9trie Gestion de l'eau / Pluviom\u00e9trie On formalise le stockage des chemins d'acc\u00e8s via un graphe orient\u00e9 en \u00e9vitant les boucles. C'est le gestionnaire de donn\u00e9es qui a la ma\u00eetrise totale sur le graphe, car il est responsable de la cr\u00e9ation des indicateurs. Service informationnel # Un service de pr\u00e9sentation d'indicateurs qui r\u00e9pond aux besoins et aux pr\u00e9f\u00e9rences d'une cat\u00e9gorie d'acteur en vue d'une aide \u00e0 la d\u00e9cision. Par exemple des graphiques, des cartes th\u00e9matiques. Par exemple, un projet QGIS publi\u00e9 vers une carte Web peut \u00eatre ici le sujet de la gestion des droits. Un outil d'importation est aussi un service informationnel, car il r\u00e9pond aux besoins d'administration des donn\u00e9es, et doit \u00eatre restreint \u00e0 des groupes d'utilisateurs. La construction d'un service informationnel (par exemple un projet QGIS) est aussi un service informationnel, \u00e0 destination des g\u00e9omaticiens. Mod\u00e8le physique des donn\u00e9es # Voir la documentation de la base Sc\u00e9narios d'utilisation # On d\u00e9crit dans ce chapitre les \u00e9tapes essentielles \u00e0 la publication de services informationnels. Chaque \u00e9tape peut \u00eatre conduite par des personnes diff\u00e9rentes selon leur r\u00f4le dans la mise en oeuvre. Administration des donn\u00e9es # Cette \u00e9tape doit \u00eatre r\u00e9alis\u00e9e avant l'import, en amont, pour pr\u00e9parer l'accueil des donn\u00e9es. C'est le r\u00f4le de l'administrateur de donn\u00e9es. Elle consiste \u00e0 nourrir le mod\u00e8le de donn\u00e9es: Description des acteurs, cat\u00e9gories d'acteurs Description des protocoles Description s\u00e9ries d'observations Description des indicateurs Description des couches spatiales Voir MCD ci-dessus. Gestion des donn\u00e9es # C'est le r\u00f4le du gestionnaire de donn\u00e9es. Cette \u00e9tape consiste \u00e0: choisir les jeux de donn\u00e9es \u00e0 importer (feuille Excel, fichier CSV, etc.) et les couches spatiales de r\u00e9f\u00e9rence. rattacher ces donn\u00e9es \u00e0 la s\u00e9rie d'observations et \u00e0 un acteur (fournisseur du jeu de donn\u00e9es). Si la s\u00e9rie n'existe pas, il faut faire appel \u00e0 l'administrateur pour la cr\u00e9er ainsi que les donn\u00e9es li\u00e9es (protocole, acteur, etc.) transf\u00e9rer des donn\u00e9es spatiales d'une ou plusieurs couches (r\u00e9f\u00e9rentiels spatiaux sur lesquels se rattachent les donn\u00e9es d'observation). Le transfert consiste \u00e0 envoyer les donn\u00e9es vers le serveur de base de donn\u00e9es. importer les donn\u00e9es d'observation en pr\u00e9cisant le lien \u00e0 la couche spatiale. Il devra aussi valider le lien entre les composantes de la source (champs) et les composantes de la cible (dimensions du vecteur). Par exemple, dans le jeu de donn\u00e9es \u00e0 importer, il dispose de 2 champs f_pop et h_pop, qu'il devra relier aux dimensions population_homme et population_femme de la valeur de l'indicateur. Un journal d'import est automatiquement rempli \u00e0 chaqe import d'un jeu de donn\u00e9es. Il est caract\u00e9ris\u00e9 par une date, un acteur, une s\u00e9rie d'observations et un statut de validation: import en attente de validation / import valid\u00e9. Chaque observation est rattach\u00e9e \u00e0 un code d'import. Lors de l'import, le gestionnaire (ou l'outil) doit v\u00e9rifier que toutes les donn\u00e9es du jeu de donn\u00e9es ont une correspondance aux objets spatiaux de la couche spatiale d\u00e9finie. Si non, l'import est invalid\u00e9. Lors de la cr\u00e9ation de cet import, un message est envoy\u00e9 \u00e0 l'acteur, avec un lien vers un service informationnel qui lui permet de visualiser les donn\u00e9es import\u00e9es (l'outil choisit la premi\u00e8re carte accessible). Il se connecte en tant qu'acteur dans l'application de visualisation (Lizmap). Il peut alors appliquer un filtre sur les donn\u00e9es pour ne voir que les donn\u00e9es de l'import \u00e0 valider. Apr\u00e8s v\u00e9rification, il peut valider l'import via un \u00e9l\u00e9ment d'interface. Les donn\u00e9es non valid\u00e9es ne sont visibles que pour certains groupes d'utilisateurs (acteurs fournisseurs de donn\u00e9es, gestionnaires et administrateurs). Les autres utilisateurs ne voient que les donn\u00e9es valid\u00e9es. Le gestionnaire de donn\u00e9es peut ajouter des donn\u00e9es. Il peut r\u00e9importer un jeu de donn\u00e9e am\u00e9lior\u00e9 par l'acteur, ce qui \u00e9crase les donn\u00e9es non valid\u00e9es. On s'appuie sur l'objet spatial, le vecteur, la date et la s\u00e9rie d'observation pour g\u00e9rer cette contrainte d'unicit\u00e9 de chaque observation (identifiant). L'outil g\u00e8re automatiquement les diff\u00e9rents cas: Si l'observation existe d\u00e9j\u00e0 et a \u00e9t\u00e9 valid\u00e9e : pas d'\u00e9crasement. Si l'observaton n'existe pas, elle est ajout\u00e9e, a le statut par d\u00e9faut (non valid\u00e9e) Si l'observation existe et qu'elle n'est pas valid\u00e9e, elle est \u00e9cras\u00e9e par la nouvelle. Pour pouvoir supprimer des donn\u00e9es, il faut permettre de g\u00e9rer un champ \"a supprimer\" ou une valeur \"delete\" ou \"-1\" qui permet de supprimer les donn\u00e9es d'observation de mani\u00e8re contr\u00f4l\u00e9e. Ajouter les UUID des observatoins supprm\u00e9es dans une table de log. Le gestionnaire des donn\u00e9es peut facilement conna\u00eetre les donn\u00e9es import\u00e9es dans la base non valid\u00e9es, et ainsi contacter si besoin ou supprimer les donn\u00e9es apr\u00e8s accord. Cr\u00e9ation d'un service informationnel # Cela correspond par exemple \u00e0 la cr\u00e9ation d'un projet QGIS, et \u00e0 sa publication dans Lizmap. Toutes les sources des s\u00e9ries d'observations utilis\u00e9es dans le projet QGIS sont visibles par les utilisateurs \u00e0 qui on a donn\u00e9 le droit (outil de gestion des groupes d'utilisateurs) Outils et traitements # Administration des donn\u00e9es # Il s'agit: de cr\u00e9er le vocabulaire, de lister les acteurs, les protocoles, le catalogue de couches, les s\u00e9ries d'observations et indicateurs, pour un observatoire. de g\u00e9rer les droits d'acc\u00e8s selon les cat\u00e9gories d'utilisateurs On utilise les capacit\u00e9s de QGIS \u00e0 produire des outils de saisie riches via des formulaires. Les relations entre couches permettent de lier les donn\u00e9es entre elles. Gestion des donn\u00e9es # Il s'agit d'importer les donn\u00e9es d'observation dans le syst\u00e8me \u00e0 partir des jeux de donn\u00e9es fournis par les acteurs. On passe des donn\u00e9es source aux indicateurs, via un travail de consolidation et d'homog\u00e9n\u00e9isation de la donn\u00e9e. Liste: Voir la liste des couches spatiales Voir les relations entre les couches et les indicateurs (comment est faite la jointure) Import d'une couche spatiale Import d'un jeu de donn\u00e9es Tableau de bord qui permet de chercher les observations (voir Extraction des donn\u00e9es ci-dessous) Notes: Ce n'est pas au gestionnaire de donn\u00e9es de faire la jointure spatiale entre couche spatiale et indicateur, car elle a \u00e9t\u00e9 pens\u00e9e en amont et d\u00e9crite par l'administrateur de donn\u00e9es. Le gestionnaire doit simplement alimenter les indicateurs. Le gestionnaire peut voir l'ensemble des donn\u00e9es d\u00e9crites par l'administrateur, sans pouvoir les modifier. Cela lui permet de conna\u00eetre les listes d'acteur, d'indicateur, de couches spatiales, etc. Exploration des donn\u00e9es # Il s'agit d'avoir un \u00e9tat de la connaissance des donn\u00e9es du syst\u00e8me. On permet \u00e0 l'administrateur, au gestionnaire de r\u00e9cup\u00e9rer des informations sur les indicateurs correspondant aux filtres de recherche suivants: temporel : dans un intervalle de date (ou par exemple \"le mois dernier\") spatial : dans un rectangle d'emprise ou dans une couche de type polygone indicateur(s) acteur(s) source Une fois le ou les filtres sp\u00e9cifi\u00e9, on lance la recherche. Les r\u00e9sultats sont affich\u00e9s sous la forme d'un tableau pr\u00e9sentant une ligne par indicateur le nom de l'indicateur la couche spatiale les acteurs source le nombre total d'observations les dates minimum et maximum des observations la date de dernier import les chemins d'acc\u00e8s les services informationnels qui r\u00e9f\u00e9rencent l'indicateur (lien direct vers la carte) un bouton pour charger la couche spatiale un bouton pour charger les donn\u00e9es dans l'outil de visualisation Repr\u00e9sentation des donn\u00e9es # Il s'agit de r\u00e9cup\u00e9rer les informations depuis le syst\u00e8me dans un format exploitable par les outils bureautique et g\u00e9omatiques ( Tableur, QGIS et Lizmap ), afin de cr\u00e9er des mod\u00e8les de repr\u00e9sentation au pilotage de l'action collective: cartes, graphiques, tableaux, etc. Le g\u00e9omaticien peut r\u00e9cup\u00e9rer les donn\u00e9es converties au format SIG ou tableur via un outil qui pr\u00e9sente les filtres de recherche suivants: choix de l'indicateur filtre spatial : dans un rectangle d'emprise ou dans une couche vectorielle de type polygone pr\u00e9sente dans QGIS filtre temporel : dans un intervalle de date (ou par exemple \"le mois dernier\") Il lance la recherche, qui lui pr\u00e9sente un tableau synth\u00e9tique sur les donn\u00e9es filtr\u00e9e de l'indicateur (\u00e9quivalent \u00e0 l'explorateur d\u00e9crit au chapitre pr\u00e9c\u00e9dent) le nom de l'indicateur la couche spatiale les acteurs source le nombre total d'observations les dates minimum et maximum des observations la date de dernier import les chemins d'acc\u00e8s les services informationnels qui r\u00e9f\u00e9rencent l'indicateur (lien direct vers la carte) un bouton pour charger la couche spatiale un bouton pour charger les donn\u00e9es Les options suivantes sont pr\u00e9sent\u00e9es pour faciliter le chargement des donn\u00e9es: charger les donn\u00e9es brutes : cela ajoute dans QGIS une couche non spatiale contenant les donn\u00e9es de l'indicateur avec le champ de jointure. Une relation est automatiquement cr\u00e9\u00e9e dans le projet QGIS entre la couche spatiale charg\u00e9e pr\u00e9c\u00e9demment et les donn\u00e9es brutes. charger les donn\u00e9es d'indicateur aggr\u00e9g\u00e9es par un \u00e0 plusieurs crit\u00e8res: \u00e0 l'unit\u00e9 temporelle : minute, heure, journ\u00e9e, mois, ann\u00e9e (par exemple, 36 lignes avec la somme des hauteurs d'eau par mois entre 2016 et 2018) \u00e0 l'unit\u00e9 temporelle unique. Par exemple, la moyenne des hauteurs d'eau tomb\u00e9es pour chacun des 12 mois, toutes ann\u00e9es confondues \u00e0 l'objet spatial de la couche de r\u00e9f\u00e9rence. Par exemple, une ligne par pluviom\u00e8tre avec la somme des hauteurs d'eau choix de la fonction de calcul : d\u00e9compte, somme, moyenne, minimum, maximum, m\u00e9diane Les couches r\u00e9sultantes sont g\u00e9n\u00e9r\u00e9es par l'outil, en se basant sur des requ\u00eates SQL. Les donn\u00e9es sont donc affich\u00e9es dynamiquement, sans avoir besoin de les rafra\u00eechir \u00e0 chaque nouvel import. Chaque requ\u00eate est repr\u00e9sent\u00e9e comme une couche stock\u00e9e dans QGIS, qui pourra \u00eare publi\u00e9 comme un service informationnel avec des droits diff\u00e9rents que les droits de la donn\u00e9e brute. Le g\u00e9omaticien doit lier le projet QGIS qui porte les modes de repr\u00e9sentations au service informationnel pr\u00e9sent dans le syst\u00e8me (cr\u00e9\u00e9 en amont par l'administrateur de donn\u00e9es). Publication des SI # Il s'agit de proposer un acc\u00e8s web aux services informationnels qui peuvent int\u00e9grer plusieurs mod\u00e8les de repr\u00e9sentation pour diff\u00e9rents indicateurs. Interfaces # Lizmap # Page d'accueil # Points importants: Une interface qui s'adapte aux \u00e9crans de diff\u00e9rentes tailes (\"responsive design\") Chaque service informationnel est comme une petite application qui d\u00e9livre de l'information (un \u00e0 plusieurs indicateurs). On propose l'analogie avec la liste des applications pr\u00e9sente sur un smartphone. La page d'accueil pr\u00e9sente une liste des services informationnels, repr\u00e9sent\u00e9s par une image. Un clic sur cette image lance l'affichage de la carte. La pr\u00e9sentation de cette liste est param\u00e9trable, avec un choix de l'ordre des pr\u00e9sentations des services informationnels: mise \u00e0 jour de la donn\u00e9e la plus r\u00e9cente en premier ordre alphab\u00e9tique affichage des nouveaux services informationnels en premier L'utilisateur peut filtrer les services informationnels affich\u00e9s via les chemins d'acc\u00e8s. Pour cela, on lui pr\u00e9sente un outil de recherche avec une autocompl\u00e9tion, qui lui permet de parcourir les mots-cl\u00e9 des chemins d'acc\u00e8s. 1 2 3 4 5 6 7 8 9 10 11 12 [ champ de recherche ] [ param\u00e8tre de tri ] **1ER NOEUD SELECTIONNE** **FILS DU 1ER NOEUD SELECTIONNE** *Petit fils A s\u00e9lectionnable* *Petit fils B s\u00e9lectionnable* -> idem *Petit fils C s\u00e9lectionnable* -> idem Affichage filtr\u00e9 des services informationnels [ SI 1 ] [ SI 2 ] [ SI 3 ] [ SI 4 ] [ SI 5 ] [ SI 6 ] [ SI 7 ] [ SI 8 ] [ SI 9 ] [ SI10 ] [ SI11 ] [ SI12 ] [ SI13 ] [ SI14 ] ... A l'arriv\u00e9e sur la page d'accueil: l'utilisateur voit le champ de filtre vide, avec la mention \"Taper votre recherche\". On active l'autocompl\u00e9tion. Sous le champ de filtre, on pr\u00e9sente les premiers noeuds fils (mots-cl\u00e9s). Par exemple: Eau Qualit\u00e9 Gouvernance Lorsque l'utilisateur clique sur un des fils, celui-ci passe en mode \"s\u00e9lectionn\u00e9\" (par exemple en gras avec un fond de couleur). Sur s\u00e9lection de ce mot-cl\u00e9, on pr\u00e9sente directement en dessous les fils directs, en mode \"s\u00e9lectionnable\" (par exemple en italique et avec un fond clair) Le champs de filtre pr\u00e9sente via une autocompl\u00e9tion l'ensemble des fils directs du dernier noeud s\u00e9lectionn\u00e9. A l'arriv\u00e9e, on peut donc chercher directement un fils \u00e9loign\u00e9. On pourra adapter la disposition des noeuds s\u00e9lectionn\u00e9s en mode horizontal (fils d'ariane) pour les \u00e9crans larges, et en mode vertical avec les mots-cl\u00e9 empil\u00e9s sur les petits \u00e9crans. TODO renommer le series.fk_id_actor en series.fk_id_actor_observer ajouter un champ import.fk_id_actor_import pour pr\u00e9ciser quel acteur a import\u00e9 le jeu de donn\u00e9es (gestionnaire de donn\u00e9e par exemple)","title":"French"},{"location":"concepts/old-french-doc/#documentation","text":"","title":"Documentation"},{"location":"concepts/old-french-doc/#introduction","text":"Le projet s'appelle G-Obs .","title":"Introduction"},{"location":"concepts/old-french-doc/#dictionnaire-des-concepts","text":"","title":"Dictionnaire des concepts"},{"location":"concepts/old-french-doc/#entite-spatiale","text":"Un objet d\u00e9fini par une g\u00e9om\u00e9trie et un identifiant unique. La g\u00e9om\u00e9trie peut \u00eatre variable dans le temps (ex: Piste). Elle est caract\u00e9ris\u00e9e par son type (Point, ligne, polygone, etc.), son syst\u00e8me de coordonn\u00e9es de r\u00e9f\u00e9rence.","title":"Entit\u00e9 spatiale"},{"location":"concepts/old-french-doc/#couche-spatiale","text":"Un regroupement d'entit\u00e9s spatiales conceptuellement ou techniquement homog\u00e8ne, caract\u00e9ris\u00e9 par un nom et une source","title":"Couche spatiale"},{"location":"concepts/old-french-doc/#observation","text":"Une donn\u00e9e caract\u00e9ris\u00e9e par un nom d'observable, une entit\u00e9 spatiale, une date, une ou des valeurs, une source ou le code du jeu de donn\u00e9es qui la contient.","title":"Observation"},{"location":"concepts/old-french-doc/#valeurs-observees","text":"Nous appelons valeurs les dimensions du vecteur qui porte les donn\u00e9es d'observations. Par exemple, si on souhaite enregistrer dans un vecteur la population des hommes et la population des femmes, le vecteur contiendra 2 valeurs \"population_homme\" et \"population_femme\". Dans la plupart des cas simples, le vecteur ne contiendra qu'une seule valeur (ex: \"pluviometrie\"). Chaque valeur est caract\u00e9ris\u00e9e par un nom (ex: \"pluviometrie\", un type (ex: \"integer\"), une unit\u00e9 (ex: \"mm\"), un alias (ex: \"Pluviom\u00e9trie journali\u00e8re\")","title":"Valeurs observ\u00e9es"},{"location":"concepts/old-french-doc/#protocole","text":"M\u00e9thode de recueil d'une s\u00e9rie d'observations en vue d'une exploitation scientifique. Il est caract\u00e9ris\u00e9 un code, un nom, une description, des r\u00e9f\u00e9rences bibliographiques.","title":"Protocole"},{"location":"concepts/old-french-doc/#reference-bibliographique","text":"Document caract\u00e9ris\u00e9 par un type, un nom, une description, une URL","title":"R\u00e9f\u00e9rence bibliographique"},{"location":"concepts/old-french-doc/#serie-dobservations","text":"Un ensemble d'observations ob\u00e9issant au m\u00eame protocole. Si le protocole \u00e9volue, on doit cr\u00e9er une nouvelle s\u00e9rie d'observations, qui se rattache au nouveau protocole. On garde ainsi un historique qui est important pour la validation scientifique. Chaque s\u00e9rie est caract\u00e9ris\u00e9e par une source (acteur) et attach\u00e9e \u00e0 une couche spatiale. Si la couche spatiale \u00e9volue (ex: Communes fusionn\u00e9es, ou pluviom\u00e8tre rajout\u00e9 ou d\u00e9plac\u00e9), il faut cr\u00e9er une nouvelle couche spatiale et une nouvelle s\u00e9rie li\u00e9e. Exemple des banquettes en Tunisie: on cr\u00e9e une couche spatiale par an Exemple de suvi de d\u00e9placement de moutons: chaque mouton a un code unique et est r\u00e9f\u00e9renc\u00e9 par un ou plusieurs objets spatiaux. Son vrai identifiant est le couple so_unique_id et geom. Pour suivre l'\u00e9volution du d\u00e9placement de chaque mouton, on a donc plusieurs observations caract\u00e9ris\u00e9es chacune par un objet spatial diff\u00e9rent. Si on avait d'autres donn\u00e9es que la position GPS disponibles, on pourrait les ajouter dans la valeur de l'observation, par exemple le rythme cardiaque pour l'observation. Dans ce cas d'objets mobiles (ou de g\u00e9om\u00e9tries variables telles que des zonages), il n'est pas utile de cr\u00e9er une nouvelle s\u00e9rie \u00e0 chaque ajout ou modification de g\u00e9om\u00e9trie dans la couche spatiale.","title":"S\u00e9rie d'observations"},{"location":"concepts/old-french-doc/#jeu-de-donnees","text":"Un ensemble physique d'observations appartenant \u00e0 la m\u00eame s\u00e9rie. En pratique, le terme est utilis\u00e9 pour pr\u00e9senter un paquet de donn\u00e9es pr\u00e9sent\u00e9 \u00e0 un gestionnaire de donn\u00e9es. Il est caract\u00e9ris\u00e9 par un code, une source. Cela peut \u00eatre sous la forme d'un fichier excel par exemple. Au moment de l'import, le gestionnaire de donn\u00e9e va devoir choisir le jeu de donn\u00e9es \u00e0 importer (fichier tableur, CSV, etc.) et le rattacher \u00e0 une s\u00e9rie existante ou \u00e0 cr\u00e9er. Les jeux de donn\u00e9es source ne seront pas enregistr\u00e9s ni conserv\u00e9s dans le syst\u00e8me d'information apr\u00e8s import et conversion en observations.","title":"Jeu de donn\u00e9es"},{"location":"concepts/old-french-doc/#acteur","text":"Un organisme ou une personne capable de produire des observations (source), d'agir dans un territoire, de signer une charte dans le cadre d'une action collective. Il fournit les jeux de donn\u00e9es au gestionnaire de donn\u00e9es qui pourra les transformer en observations. Il peut aussi valider les observations apr\u00e8s avoir eu acc\u00e8s aux observations sous forme de services informationnels (cartes Lizmap). Il est caract\u00e9ris\u00e9 par un nom, un email, une personne contact, une cat\u00e9gorie","title":"Acteur"},{"location":"concepts/old-french-doc/#categorie-dacteurs","text":"Regroupement d'acteurs ayant les m\u00eames besoins en information. Ces cat\u00e9gories (ou \"groupes\") sont utilis\u00e9es par G-Obs pour d\u00e9terminer les services informationels \u00e0 disposition de l'acteur.","title":"Cat\u00e9gorie d'acteurs"},{"location":"concepts/old-french-doc/#gestionnaire-de-donnees","text":"Il r\u00e9colte et centralise les jeux de donn\u00e9es fournis par les acteurs. C'est lui qui importe les donn\u00e9es dans le syst\u00e8me.","title":"Gestionnaire de donn\u00e9es"},{"location":"concepts/old-french-doc/#indicateur","text":"Un regroupement de donn\u00e9es d'observation dans un but d'aide \u00e0 la d\u00e9cision. Il est caract\u00e9ris\u00e9 par un nom, une d\u00e9finition, un type d'entit\u00e9 spatiale, une granularit\u00e9 et une fr\u00e9quence temporelle. L'indicateur peut regrouper une seule s\u00e9rie d'observations. Il peut aussi \u00eatre utilis\u00e9 pour regrouper plusieurs s\u00e9ries ob\u00e9issant \u00e0 des protocoles diff\u00e9rents mais suffisamment voisins pour ne pas changer la s\u00e9mantique de l'indicateur. Par exemple, on a remplac\u00e9 un capteur de temp\u00e9rature par un nouveau syst\u00e8me plus pr\u00e9cis, mais on a conserv\u00e9 les fr\u00e9quences d'acquisition, les sites de mesure, etc. L'indicateur permet aussi de rassembler des donn\u00e9es observ\u00e9es sur des sites ou des terrains diff\u00e9rents. Si on souhaite utiliser des donn\u00e9es de plusieurs s\u00e9ries pour les combiner et cr\u00e9er une nouvelle donn\u00e9e, on devra passer par la cr\u00e9ation d'un nouvelle s\u00e9rie de donn\u00e9es dont le nouveau protocole contiendra la formule de calcul. C'est l'acteur source qui fera ce travail de cr\u00e9ation de la nouvelle s\u00e9rie.","title":"Indicateur"},{"location":"concepts/old-french-doc/#chemins-dacces","text":"Pour faciliter la navigation et le choix parmi les indicateurs, on rattache \u00e0 chaque indicateur un ou plusieurs chemins d'acc\u00e8s. Un chemin se caract\u00e9rise par une suite ordonn\u00e9e de mots-cl\u00e9s pr\u00e9cisant progressivement la th\u00e9matique puis l'indicateur. Par exemple, pour acc\u00e9der \u00e0 l'indicateur \"Pluviom\u00e9trie\", deux chemins sont possibles Environnement / Changement climatique / Pluviom\u00e9trie Gestion de l'eau / Pluviom\u00e9trie On formalise le stockage des chemins d'acc\u00e8s via un graphe orient\u00e9 en \u00e9vitant les boucles. C'est le gestionnaire de donn\u00e9es qui a la ma\u00eetrise totale sur le graphe, car il est responsable de la cr\u00e9ation des indicateurs.","title":"Chemins d'acc\u00e8s"},{"location":"concepts/old-french-doc/#service-informationnel","text":"Un service de pr\u00e9sentation d'indicateurs qui r\u00e9pond aux besoins et aux pr\u00e9f\u00e9rences d'une cat\u00e9gorie d'acteur en vue d'une aide \u00e0 la d\u00e9cision. Par exemple des graphiques, des cartes th\u00e9matiques. Par exemple, un projet QGIS publi\u00e9 vers une carte Web peut \u00eatre ici le sujet de la gestion des droits. Un outil d'importation est aussi un service informationnel, car il r\u00e9pond aux besoins d'administration des donn\u00e9es, et doit \u00eatre restreint \u00e0 des groupes d'utilisateurs. La construction d'un service informationnel (par exemple un projet QGIS) est aussi un service informationnel, \u00e0 destination des g\u00e9omaticiens.","title":"Service informationnel"},{"location":"concepts/old-french-doc/#modele-physique-des-donnees","text":"Voir la documentation de la base","title":"Mod\u00e8le physique des donn\u00e9es"},{"location":"concepts/old-french-doc/#scenarios-dutilisation","text":"On d\u00e9crit dans ce chapitre les \u00e9tapes essentielles \u00e0 la publication de services informationnels. Chaque \u00e9tape peut \u00eatre conduite par des personnes diff\u00e9rentes selon leur r\u00f4le dans la mise en oeuvre.","title":"Sc\u00e9narios d'utilisation"},{"location":"concepts/old-french-doc/#administration-des-donnees","text":"Cette \u00e9tape doit \u00eatre r\u00e9alis\u00e9e avant l'import, en amont, pour pr\u00e9parer l'accueil des donn\u00e9es. C'est le r\u00f4le de l'administrateur de donn\u00e9es. Elle consiste \u00e0 nourrir le mod\u00e8le de donn\u00e9es: Description des acteurs, cat\u00e9gories d'acteurs Description des protocoles Description s\u00e9ries d'observations Description des indicateurs Description des couches spatiales Voir MCD ci-dessus.","title":"Administration des donn\u00e9es"},{"location":"concepts/old-french-doc/#gestion-des-donnees","text":"C'est le r\u00f4le du gestionnaire de donn\u00e9es. Cette \u00e9tape consiste \u00e0: choisir les jeux de donn\u00e9es \u00e0 importer (feuille Excel, fichier CSV, etc.) et les couches spatiales de r\u00e9f\u00e9rence. rattacher ces donn\u00e9es \u00e0 la s\u00e9rie d'observations et \u00e0 un acteur (fournisseur du jeu de donn\u00e9es). Si la s\u00e9rie n'existe pas, il faut faire appel \u00e0 l'administrateur pour la cr\u00e9er ainsi que les donn\u00e9es li\u00e9es (protocole, acteur, etc.) transf\u00e9rer des donn\u00e9es spatiales d'une ou plusieurs couches (r\u00e9f\u00e9rentiels spatiaux sur lesquels se rattachent les donn\u00e9es d'observation). Le transfert consiste \u00e0 envoyer les donn\u00e9es vers le serveur de base de donn\u00e9es. importer les donn\u00e9es d'observation en pr\u00e9cisant le lien \u00e0 la couche spatiale. Il devra aussi valider le lien entre les composantes de la source (champs) et les composantes de la cible (dimensions du vecteur). Par exemple, dans le jeu de donn\u00e9es \u00e0 importer, il dispose de 2 champs f_pop et h_pop, qu'il devra relier aux dimensions population_homme et population_femme de la valeur de l'indicateur. Un journal d'import est automatiquement rempli \u00e0 chaqe import d'un jeu de donn\u00e9es. Il est caract\u00e9ris\u00e9 par une date, un acteur, une s\u00e9rie d'observations et un statut de validation: import en attente de validation / import valid\u00e9. Chaque observation est rattach\u00e9e \u00e0 un code d'import. Lors de l'import, le gestionnaire (ou l'outil) doit v\u00e9rifier que toutes les donn\u00e9es du jeu de donn\u00e9es ont une correspondance aux objets spatiaux de la couche spatiale d\u00e9finie. Si non, l'import est invalid\u00e9. Lors de la cr\u00e9ation de cet import, un message est envoy\u00e9 \u00e0 l'acteur, avec un lien vers un service informationnel qui lui permet de visualiser les donn\u00e9es import\u00e9es (l'outil choisit la premi\u00e8re carte accessible). Il se connecte en tant qu'acteur dans l'application de visualisation (Lizmap). Il peut alors appliquer un filtre sur les donn\u00e9es pour ne voir que les donn\u00e9es de l'import \u00e0 valider. Apr\u00e8s v\u00e9rification, il peut valider l'import via un \u00e9l\u00e9ment d'interface. Les donn\u00e9es non valid\u00e9es ne sont visibles que pour certains groupes d'utilisateurs (acteurs fournisseurs de donn\u00e9es, gestionnaires et administrateurs). Les autres utilisateurs ne voient que les donn\u00e9es valid\u00e9es. Le gestionnaire de donn\u00e9es peut ajouter des donn\u00e9es. Il peut r\u00e9importer un jeu de donn\u00e9e am\u00e9lior\u00e9 par l'acteur, ce qui \u00e9crase les donn\u00e9es non valid\u00e9es. On s'appuie sur l'objet spatial, le vecteur, la date et la s\u00e9rie d'observation pour g\u00e9rer cette contrainte d'unicit\u00e9 de chaque observation (identifiant). L'outil g\u00e8re automatiquement les diff\u00e9rents cas: Si l'observation existe d\u00e9j\u00e0 et a \u00e9t\u00e9 valid\u00e9e : pas d'\u00e9crasement. Si l'observaton n'existe pas, elle est ajout\u00e9e, a le statut par d\u00e9faut (non valid\u00e9e) Si l'observation existe et qu'elle n'est pas valid\u00e9e, elle est \u00e9cras\u00e9e par la nouvelle. Pour pouvoir supprimer des donn\u00e9es, il faut permettre de g\u00e9rer un champ \"a supprimer\" ou une valeur \"delete\" ou \"-1\" qui permet de supprimer les donn\u00e9es d'observation de mani\u00e8re contr\u00f4l\u00e9e. Ajouter les UUID des observatoins supprm\u00e9es dans une table de log. Le gestionnaire des donn\u00e9es peut facilement conna\u00eetre les donn\u00e9es import\u00e9es dans la base non valid\u00e9es, et ainsi contacter si besoin ou supprimer les donn\u00e9es apr\u00e8s accord.","title":"Gestion des donn\u00e9es"},{"location":"concepts/old-french-doc/#creation-dun-service-informationnel","text":"Cela correspond par exemple \u00e0 la cr\u00e9ation d'un projet QGIS, et \u00e0 sa publication dans Lizmap. Toutes les sources des s\u00e9ries d'observations utilis\u00e9es dans le projet QGIS sont visibles par les utilisateurs \u00e0 qui on a donn\u00e9 le droit (outil de gestion des groupes d'utilisateurs)","title":"Cr\u00e9ation d'un service informationnel"},{"location":"concepts/old-french-doc/#outils-et-traitements","text":"","title":"Outils et traitements"},{"location":"concepts/old-french-doc/#administration-des-donnees_1","text":"Il s'agit: de cr\u00e9er le vocabulaire, de lister les acteurs, les protocoles, le catalogue de couches, les s\u00e9ries d'observations et indicateurs, pour un observatoire. de g\u00e9rer les droits d'acc\u00e8s selon les cat\u00e9gories d'utilisateurs On utilise les capacit\u00e9s de QGIS \u00e0 produire des outils de saisie riches via des formulaires. Les relations entre couches permettent de lier les donn\u00e9es entre elles.","title":"Administration des donn\u00e9es"},{"location":"concepts/old-french-doc/#gestion-des-donnees_1","text":"Il s'agit d'importer les donn\u00e9es d'observation dans le syst\u00e8me \u00e0 partir des jeux de donn\u00e9es fournis par les acteurs. On passe des donn\u00e9es source aux indicateurs, via un travail de consolidation et d'homog\u00e9n\u00e9isation de la donn\u00e9e. Liste: Voir la liste des couches spatiales Voir les relations entre les couches et les indicateurs (comment est faite la jointure) Import d'une couche spatiale Import d'un jeu de donn\u00e9es Tableau de bord qui permet de chercher les observations (voir Extraction des donn\u00e9es ci-dessous) Notes: Ce n'est pas au gestionnaire de donn\u00e9es de faire la jointure spatiale entre couche spatiale et indicateur, car elle a \u00e9t\u00e9 pens\u00e9e en amont et d\u00e9crite par l'administrateur de donn\u00e9es. Le gestionnaire doit simplement alimenter les indicateurs. Le gestionnaire peut voir l'ensemble des donn\u00e9es d\u00e9crites par l'administrateur, sans pouvoir les modifier. Cela lui permet de conna\u00eetre les listes d'acteur, d'indicateur, de couches spatiales, etc.","title":"Gestion des donn\u00e9es"},{"location":"concepts/old-french-doc/#exploration-des-donnees","text":"Il s'agit d'avoir un \u00e9tat de la connaissance des donn\u00e9es du syst\u00e8me. On permet \u00e0 l'administrateur, au gestionnaire de r\u00e9cup\u00e9rer des informations sur les indicateurs correspondant aux filtres de recherche suivants: temporel : dans un intervalle de date (ou par exemple \"le mois dernier\") spatial : dans un rectangle d'emprise ou dans une couche de type polygone indicateur(s) acteur(s) source Une fois le ou les filtres sp\u00e9cifi\u00e9, on lance la recherche. Les r\u00e9sultats sont affich\u00e9s sous la forme d'un tableau pr\u00e9sentant une ligne par indicateur le nom de l'indicateur la couche spatiale les acteurs source le nombre total d'observations les dates minimum et maximum des observations la date de dernier import les chemins d'acc\u00e8s les services informationnels qui r\u00e9f\u00e9rencent l'indicateur (lien direct vers la carte) un bouton pour charger la couche spatiale un bouton pour charger les donn\u00e9es dans l'outil de visualisation","title":"Exploration des donn\u00e9es"},{"location":"concepts/old-french-doc/#representation-des-donnees","text":"Il s'agit de r\u00e9cup\u00e9rer les informations depuis le syst\u00e8me dans un format exploitable par les outils bureautique et g\u00e9omatiques ( Tableur, QGIS et Lizmap ), afin de cr\u00e9er des mod\u00e8les de repr\u00e9sentation au pilotage de l'action collective: cartes, graphiques, tableaux, etc. Le g\u00e9omaticien peut r\u00e9cup\u00e9rer les donn\u00e9es converties au format SIG ou tableur via un outil qui pr\u00e9sente les filtres de recherche suivants: choix de l'indicateur filtre spatial : dans un rectangle d'emprise ou dans une couche vectorielle de type polygone pr\u00e9sente dans QGIS filtre temporel : dans un intervalle de date (ou par exemple \"le mois dernier\") Il lance la recherche, qui lui pr\u00e9sente un tableau synth\u00e9tique sur les donn\u00e9es filtr\u00e9e de l'indicateur (\u00e9quivalent \u00e0 l'explorateur d\u00e9crit au chapitre pr\u00e9c\u00e9dent) le nom de l'indicateur la couche spatiale les acteurs source le nombre total d'observations les dates minimum et maximum des observations la date de dernier import les chemins d'acc\u00e8s les services informationnels qui r\u00e9f\u00e9rencent l'indicateur (lien direct vers la carte) un bouton pour charger la couche spatiale un bouton pour charger les donn\u00e9es Les options suivantes sont pr\u00e9sent\u00e9es pour faciliter le chargement des donn\u00e9es: charger les donn\u00e9es brutes : cela ajoute dans QGIS une couche non spatiale contenant les donn\u00e9es de l'indicateur avec le champ de jointure. Une relation est automatiquement cr\u00e9\u00e9e dans le projet QGIS entre la couche spatiale charg\u00e9e pr\u00e9c\u00e9demment et les donn\u00e9es brutes. charger les donn\u00e9es d'indicateur aggr\u00e9g\u00e9es par un \u00e0 plusieurs crit\u00e8res: \u00e0 l'unit\u00e9 temporelle : minute, heure, journ\u00e9e, mois, ann\u00e9e (par exemple, 36 lignes avec la somme des hauteurs d'eau par mois entre 2016 et 2018) \u00e0 l'unit\u00e9 temporelle unique. Par exemple, la moyenne des hauteurs d'eau tomb\u00e9es pour chacun des 12 mois, toutes ann\u00e9es confondues \u00e0 l'objet spatial de la couche de r\u00e9f\u00e9rence. Par exemple, une ligne par pluviom\u00e8tre avec la somme des hauteurs d'eau choix de la fonction de calcul : d\u00e9compte, somme, moyenne, minimum, maximum, m\u00e9diane Les couches r\u00e9sultantes sont g\u00e9n\u00e9r\u00e9es par l'outil, en se basant sur des requ\u00eates SQL. Les donn\u00e9es sont donc affich\u00e9es dynamiquement, sans avoir besoin de les rafra\u00eechir \u00e0 chaque nouvel import. Chaque requ\u00eate est repr\u00e9sent\u00e9e comme une couche stock\u00e9e dans QGIS, qui pourra \u00eare publi\u00e9 comme un service informationnel avec des droits diff\u00e9rents que les droits de la donn\u00e9e brute. Le g\u00e9omaticien doit lier le projet QGIS qui porte les modes de repr\u00e9sentations au service informationnel pr\u00e9sent dans le syst\u00e8me (cr\u00e9\u00e9 en amont par l'administrateur de donn\u00e9es).","title":"Repr\u00e9sentation des donn\u00e9es"},{"location":"concepts/old-french-doc/#publication-des-si","text":"Il s'agit de proposer un acc\u00e8s web aux services informationnels qui peuvent int\u00e9grer plusieurs mod\u00e8les de repr\u00e9sentation pour diff\u00e9rents indicateurs.","title":"Publication des SI"},{"location":"concepts/old-french-doc/#interfaces","text":"","title":"Interfaces"},{"location":"concepts/old-french-doc/#lizmap","text":"","title":"Lizmap"},{"location":"concepts/old-french-doc/#page-daccueil","text":"Points importants: Une interface qui s'adapte aux \u00e9crans de diff\u00e9rentes tailes (\"responsive design\") Chaque service informationnel est comme une petite application qui d\u00e9livre de l'information (un \u00e0 plusieurs indicateurs). On propose l'analogie avec la liste des applications pr\u00e9sente sur un smartphone. La page d'accueil pr\u00e9sente une liste des services informationnels, repr\u00e9sent\u00e9s par une image. Un clic sur cette image lance l'affichage de la carte. La pr\u00e9sentation de cette liste est param\u00e9trable, avec un choix de l'ordre des pr\u00e9sentations des services informationnels: mise \u00e0 jour de la donn\u00e9e la plus r\u00e9cente en premier ordre alphab\u00e9tique affichage des nouveaux services informationnels en premier L'utilisateur peut filtrer les services informationnels affich\u00e9s via les chemins d'acc\u00e8s. Pour cela, on lui pr\u00e9sente un outil de recherche avec une autocompl\u00e9tion, qui lui permet de parcourir les mots-cl\u00e9 des chemins d'acc\u00e8s. 1 2 3 4 5 6 7 8 9 10 11 12 [ champ de recherche ] [ param\u00e8tre de tri ] **1ER NOEUD SELECTIONNE** **FILS DU 1ER NOEUD SELECTIONNE** *Petit fils A s\u00e9lectionnable* *Petit fils B s\u00e9lectionnable* -> idem *Petit fils C s\u00e9lectionnable* -> idem Affichage filtr\u00e9 des services informationnels [ SI 1 ] [ SI 2 ] [ SI 3 ] [ SI 4 ] [ SI 5 ] [ SI 6 ] [ SI 7 ] [ SI 8 ] [ SI 9 ] [ SI10 ] [ SI11 ] [ SI12 ] [ SI13 ] [ SI14 ] ... A l'arriv\u00e9e sur la page d'accueil: l'utilisateur voit le champ de filtre vide, avec la mention \"Taper votre recherche\". On active l'autocompl\u00e9tion. Sous le champ de filtre, on pr\u00e9sente les premiers noeuds fils (mots-cl\u00e9s). Par exemple: Eau Qualit\u00e9 Gouvernance Lorsque l'utilisateur clique sur un des fils, celui-ci passe en mode \"s\u00e9lectionn\u00e9\" (par exemple en gras avec un fond de couleur). Sur s\u00e9lection de ce mot-cl\u00e9, on pr\u00e9sente directement en dessous les fils directs, en mode \"s\u00e9lectionnable\" (par exemple en italique et avec un fond clair) Le champs de filtre pr\u00e9sente via une autocompl\u00e9tion l'ensemble des fils directs du dernier noeud s\u00e9lectionn\u00e9. A l'arriv\u00e9e, on peut donc chercher directement un fils \u00e9loign\u00e9. On pourra adapter la disposition des noeuds s\u00e9lectionn\u00e9s en mode horizontal (fils d'ariane) pour les \u00e9crans larges, et en mode vertical avec les mots-cl\u00e9 empil\u00e9s sur les petits \u00e9crans. TODO renommer le series.fk_id_actor en series.fk_id_actor_observer ajouter un champ import.fk_id_actor_import pour pr\u00e9ciser quel acteur a import\u00e9 le jeu de donn\u00e9es (gestionnaire de donn\u00e9e par exemple)","title":"Page d'accueil"},{"location":"processing/","text":"G-Obs Configuration Configure G-Obs plugin Parameters Outputs Administration Create database local interface Parameters Outputs Structure Create database structure Parameters Outputs Upgrade database structure Parameters Outputs Tools Get aggregated data Parameters Outputs Get series data Parameters Outputs Get the list of series Parameters Outputs Get spatial layer vector data Parameters Outputs Remove series data Parameters Outputs Remove spatial layer data Parameters Outputs Import Import spatial layer data Parameters Outputs G-Obs # Configuration # Configure G-Obs plugin # This algorithm will allow to configure G-Obs extension for the current QGIS project You must run this script before any other script. PostgreSQL connection to G-Obs database: name of the database connection you would like to use for the current QGIS project. This connection will be used for the other algorithms. Parameters # ID Description Type Info Required Advanced Option CONNECTION_NAME PostgreSQL connection to G-Obs database String \u2713 Outputs # ID Description Type Info OUTPUT_STATUS Output status Number OUTPUT_STRING Output message String Administration # Create database local interface # This algorithm will create a new QGIS project file for G-Obs administration purpose. The generated QGIS project must then be opened by the administrator to create the needed metadata by using QGIS editing capabilities (actors, spatial layers information, indicators, etc.) PostgreSQL connection to G-Obs database: name of the database connection you would like to use for the new QGIS project. QGIS project file to create: choose the output file destination. Parameters # ID Description Type Info Required Advanced Option CONNECTION_NAME PostgreSQL connection to G-Obs database String \u2713 PROJECT_FILE QGIS project file to create FileDestination \u2713 Outputs # ID Description Type Info PROJECT_FILE QGIS project file to create File OUTPUT_STATUS Output status Number OUTPUT_STRING Output message String Structure # Create database structure # Install the G-Obs database structure with tables and function on the chosen database. This script will add a gobs schema with needed tables and functions PostgreSQL connection to G-Obs database: name of the database connection you would like to use for the installation. Beware ! If you check the \"override\" checkboxes, you will loose all existing data in the existing gobs schema ! Parameters # ID Description Type Info Required Advanced Option CONNECTION_NAME PostgreSQL connection to G-Obs database String \u2713 OVERRIDE Overwrite schema gobs and all data ? CAUTION It will remove all existing data ! Boolean \u2713 ADD_TEST_DATA Add test data ? Boolean \u2713 Outputs # ID Description Type Info OUTPUT_STATUS Output status Number OUTPUT_STRING Output message String Upgrade database structure # Upgrade the G-Obs tables and functions in the chosen database. If you have upgraded your QGIS G-Obs plugin, you can run this script to upgrade your database to the new plugin version. PostgreSQL connection to G-Obs database: name of the database connection you would like to use for the upgrade. Parameters # ID Description Type Info Required Advanced Option CONNECTION_NAME PostgreSQL connection to G-Obs database String \u2713 RUN_MIGRATIONS Check this box to upgrade. No action will be done otherwise Boolean \u2713 Outputs # ID Description Type Info OUTPUT_STATUS Output status Number OUTPUT_STRING Output message String Tools # Get aggregated data # This algorithm allows to add a table or vector layer in your QGIS project containing the aggregated observation data from the chosen G-Obs series. The aggregation is made depending of the user input. Data are dynamically fetched from the database, meaning they are always up-to-date. * Names of the output layer: choose the name of the QGIS layer to create. If not given, the label of the series of observations, as written in the series combo box. * Series of observations: the G-Obs series containing the observation data. * Add spatial object ID and label ? If checked, the output layer will have two more columns with the spatial layer unique identifiers (ID and label). * Add spatial object geometry ? If checked, the output layer will be a spatial QGIS vector layer, displayed in the map, and not a geometryless table layer. The result can show duplicated geometries, for observations defined by the same geometry at different dates or times. * Timestamp extraction resolution: choose the desired temporal resolution of the output. Aggregates will be calculated (sum, average, etc.) by grouping the source data by this temporal resolution. * Choose aggregate functions to use: you can choose between minimum (min), maximum (max), average (avg) and sum. * Minimum observation timestamp: if you enter a valid ISO timestamp in this field, only observations with a timestamp after this value will be processed. * Maximum observation timestamp: if you enter a valid ISO timestamp in this field, only observations with a timestamp before this value will be processed. Parameters # ID Description Type Info Required Advanced Option OUTPUT_LAYER_NAME Name of the output layer String SERIE Series of observations Enum \u2713 Values: SERIE_ID Series ID. If given, it overrides previous choice Number \u2713 Default: -1 Type: Integer Min: -1.7976931348623157e+308, Max: 1.7976931348623157e+308 ADD_SPATIAL_OBJECT_DATA Add spatial object ID and label ? Boolean \u2713 Default: True ADD_SPATIAL_OBJECT_GEOM Add spatial object geometry ? Boolean \u2713 TEMPORAL_RESOLUTION Timestamp extraction resolution Enum \u2713 Values: original, second, minute, hour, day, week, month, year AGGREGATE_FUNCTIONS Choose aggregate functions to use Enum \u2713 Default: [0, 1, 2, 3] Values: min, max, avg, sum MIN_TIMESTAMP Minimum observation timestamp, Ex: 2019-01-01 or 2019-01-06 00:00:00 String MAX_TIMESTAMP Maximum observation timestamp, Ex:2019-12-31 or 2019-12-31 23:59:53 String Outputs # ID Description Type Info OUTPUT_STATUS Output status Number OUTPUT_STRING Output message String OUTPUT_LAYER Output layer VectorLayer OUTPUT_LAYER_RESULT_NAME Output layer name String Get series data # This algorithm allows to add a table layer in your QGIS project containing the observation data from the chosen G-Obs series. Data are dynamically fetched from the database, meaning they are always up-to-date. * Name of the output layer: choose the name of the QGIS table layer to create. If not given, the label of the series will be used, by concatening the label of the indicator, protocol, source actor and spatial layer defining the chosen series. * Series of observations: choose the G-Obs series of observation you want to use as the data source. * Add spatial object geometry ? If checked, the output layer will be a spatial QGIS vector layer, displayed in the map, and not a geometryless table layer. The result can show duplicated geometries, for observations defined by the same geometry at different dates or times. Parameters # ID Description Type Info Required Advanced Option OUTPUT_LAYER_NAME Name of the output layer String SERIE Series of observations Enum \u2713 Values: SERIE_ID Series ID. If given, it overrides previous choice Number \u2713 Default: -1 Type: Integer Min: -1.7976931348623157e+308, Max: 1.7976931348623157e+308 ADD_SPATIAL_OBJECT_GEOM Add spatial object geometry ? Boolean \u2713 Outputs # ID Description Type Info OUTPUT_STATUS Output status Number OUTPUT_STRING Output message String OUTPUT_LAYER Output layer VectorLayer OUTPUT_LAYER_RESULT_NAME Output layer name String Get the list of series # Parameters # ID Description Type Info Required Advanced Option No parameter Outputs # ID Description Type Info OUTPUT_STATUS Output status Number OUTPUT_STRING Output message String OUTPUT_LAYER Output layer VectorLayer OUTPUT_LAYER_RESULT_NAME Output layer name String Get spatial layer vector data # This algorithm allows to add a vector layer in your QGIS project containing the spatial data from the chosen G-Obs spatial layer. Data are dynamically fetched from the database, meaning they are always up-to-date. * Name of the output layer: choose the name of the QGIS layer to create. If not given, the label of the spatial layer will be used. * Spatial layer: choose the G-Obs spatial layer you want to use as the data source. * Date of validity: if you want to see the data for a specific date (ex: today or 2010-01-01) Parameters # ID Description Type Info Required Advanced Option OUTPUT_LAYER_NAME Name of the output layer String SPATIALLAYER Spatial layer Enum \u2713 Values: SPATIALLAYER_ID Spatial layer ID. If given, it overrides previous choice Number \u2713 Default: -1 Type: Integer Min: -1.7976931348623157e+308, Max: 1.7976931348623157e+308 VALIDITY_DATE View data for a specific date (ex: today or 2010-01-01) String Outputs # ID Description Type Info OUTPUT_STATUS Output status Number OUTPUT_STRING Output message String OUTPUT_LAYER Output layer VectorLayer OUTPUT_LAYER_RESULT_NAME Output layer name String Remove series data # This algorithms allows to completely delete observation data for a specific series * Series of observations: the G-Obs series containing the observation data. * Check this box to delete: this box must be checked in order to proceed. It is mainly here as a security. Please check the chosen series before proceeding ! * Also delete the series item: if you want to delete not only the observation data of the series, but also the series item in the table. Parameters # ID Description Type Info Required Advanced Option SERIE Series of observations Enum \u2713 Values: SERIE_ID Series ID. If given, it overrides previous choice Number \u2713 Default: -1 Type: Integer Min: -1.7976931348623157e+308, Max: 1.7976931348623157e+308 RUN_DELETE Check this box to delete. No action will be done otherwise Boolean \u2713 DELETE_SERIES Also delete the series item Boolean \u2713 Outputs # ID Description Type Info OUTPUT_STATUS Output status Number OUTPUT_STRING Output message String Remove spatial layer data # This algorithms allows to completely delete spatial layer data (objects) for a specific spatial layer * Spatial layer: choose the G-Obs spatial layer. * Check this box to delete: this box must be checked in order to proceed. It is mainly here as a security. Please check the chosen spatial layer before proceeding ! * Also delete the spatial layer item: if you want to delete not only the spatial objects of the spatial layers, but also the spatial layer item in the table. Parameters # ID Description Type Info Required Advanced Option SPATIALLAYER Spatial layer Enum \u2713 Values: SPATIALLAYER_ID Spatial layer ID. If given, it overrides previous choice Number \u2713 Default: -1 Type: Integer Min: -1.7976931348623157e+308, Max: 1.7976931348623157e+308 RUN_DELETE Check this box to delete. No action will be done otherwise Boolean \u2713 DELETE_SPATIAL_LAYER Also delete the spatial layer item Boolean \u2713 Outputs # ID Description Type Info OUTPUT_STATUS Output status Number OUTPUT_STRING Output message String Import # Import spatial layer data # This algorithm allows to import data from a QGIS spatial layer into the G-Obs database The G-Obs administrator must have created the needed spatial layer beforehand by addind the required items in the related database tables: gobs.actor_category, gobs.actor and gobs.spatial_layer. * Target spatial layer: choose one of the spatial layers available in G-Obs database * Source data layer: choose the QGIS vector layer containing the spatial data you want to import into the chosen spatial layer. * Unique identifier: choose the field containing the unique ID. It can be an integer or a text field, but must be unique. * Unique label: choose the text field containing the unique label of the layer feature. You could use the QGIS field calculator to create one if needed. * Start of validity: choose the field with the start timestamp of validity for each feature. Leave empty if all the features share the same date/time and manually enter the value in the next input. This field content must respect the ISO format. For example 2020-05-01 10:50:30 or 2020-01-01 * Start of validity for all features Specify the start timestamp of validity for all the objects in the spatial layer. This value must respect the ISO format. For example 2020-05-01 10:50:30 or 2020-01-01 * End of validity: choose the field with the end timestamp of validity for each feature. Leave empty if all the features share the same date/time and manually enter the value in the next input. This field content must respect the ISO format. For example 2020-05-01 10:50:30 or 2020-01-01 * End of validity for all features Specify the end timestamp of validity for all the objects in the spatial layer. This value must respect the ISO format. For example 2020-05-01 10:50:30 or 2020-01-01 Parameters # ID Description Type Info Required Advanced Option SPATIALLAYER Target spatial layer Enum \u2713 Values: SOURCELAYER Source data layer VectorLayer \u2713 Type: UNIQUEID Unique identifier Field \u2713 UNIQUELABEL Unique label Field \u2713 DATE_VALIDITY_MIN Start timestamp of validity. Field in ISO Format Field MANUAL_DATE_VALIDITY_MIN Manual start timestamp of validity (2019-01-06 or 2019-01-06 22:59:50) String DATE_VALIDITY_MAX End timestamp of validity. Field in ISO Format Field MANUAL_DATE_VALIDITY_MAX Manual end timestamp of validity (2019-01-31 or 2019-01-31 23:59:59) String Outputs # ID Description Type Info OUTPUT_STRING Output message String","title":"Traitements"},{"location":"processing/#g-obs","text":"","title":"G-Obs"},{"location":"processing/#configuration","text":"","title":"Configuration"},{"location":"processing/#configure-g-obs-plugin","text":"This algorithm will allow to configure G-Obs extension for the current QGIS project You must run this script before any other script. PostgreSQL connection to G-Obs database: name of the database connection you would like to use for the current QGIS project. This connection will be used for the other algorithms.","title":"Configure G-Obs plugin"},{"location":"processing/#parameters","text":"ID Description Type Info Required Advanced Option CONNECTION_NAME PostgreSQL connection to G-Obs database String \u2713","title":"Parameters"},{"location":"processing/#outputs","text":"ID Description Type Info OUTPUT_STATUS Output status Number OUTPUT_STRING Output message String","title":"Outputs"},{"location":"processing/#administration","text":"","title":"Administration"},{"location":"processing/#create-database-local-interface","text":"This algorithm will create a new QGIS project file for G-Obs administration purpose. The generated QGIS project must then be opened by the administrator to create the needed metadata by using QGIS editing capabilities (actors, spatial layers information, indicators, etc.) PostgreSQL connection to G-Obs database: name of the database connection you would like to use for the new QGIS project. QGIS project file to create: choose the output file destination.","title":"Create database local interface"},{"location":"processing/#parameters_1","text":"ID Description Type Info Required Advanced Option CONNECTION_NAME PostgreSQL connection to G-Obs database String \u2713 PROJECT_FILE QGIS project file to create FileDestination \u2713","title":"Parameters"},{"location":"processing/#outputs_1","text":"ID Description Type Info PROJECT_FILE QGIS project file to create File OUTPUT_STATUS Output status Number OUTPUT_STRING Output message String","title":"Outputs"},{"location":"processing/#structure","text":"","title":"Structure"},{"location":"processing/#create-database-structure","text":"Install the G-Obs database structure with tables and function on the chosen database. This script will add a gobs schema with needed tables and functions PostgreSQL connection to G-Obs database: name of the database connection you would like to use for the installation. Beware ! If you check the \"override\" checkboxes, you will loose all existing data in the existing gobs schema !","title":"Create database structure"},{"location":"processing/#parameters_2","text":"ID Description Type Info Required Advanced Option CONNECTION_NAME PostgreSQL connection to G-Obs database String \u2713 OVERRIDE Overwrite schema gobs and all data ? CAUTION It will remove all existing data ! Boolean \u2713 ADD_TEST_DATA Add test data ? Boolean \u2713","title":"Parameters"},{"location":"processing/#outputs_2","text":"ID Description Type Info OUTPUT_STATUS Output status Number OUTPUT_STRING Output message String","title":"Outputs"},{"location":"processing/#upgrade-database-structure","text":"Upgrade the G-Obs tables and functions in the chosen database. If you have upgraded your QGIS G-Obs plugin, you can run this script to upgrade your database to the new plugin version. PostgreSQL connection to G-Obs database: name of the database connection you would like to use for the upgrade.","title":"Upgrade database structure"},{"location":"processing/#parameters_3","text":"ID Description Type Info Required Advanced Option CONNECTION_NAME PostgreSQL connection to G-Obs database String \u2713 RUN_MIGRATIONS Check this box to upgrade. No action will be done otherwise Boolean \u2713","title":"Parameters"},{"location":"processing/#outputs_3","text":"ID Description Type Info OUTPUT_STATUS Output status Number OUTPUT_STRING Output message String","title":"Outputs"},{"location":"processing/#tools","text":"","title":"Tools"},{"location":"processing/#get-aggregated-data","text":"This algorithm allows to add a table or vector layer in your QGIS project containing the aggregated observation data from the chosen G-Obs series. The aggregation is made depending of the user input. Data are dynamically fetched from the database, meaning they are always up-to-date. * Names of the output layer: choose the name of the QGIS layer to create. If not given, the label of the series of observations, as written in the series combo box. * Series of observations: the G-Obs series containing the observation data. * Add spatial object ID and label ? If checked, the output layer will have two more columns with the spatial layer unique identifiers (ID and label). * Add spatial object geometry ? If checked, the output layer will be a spatial QGIS vector layer, displayed in the map, and not a geometryless table layer. The result can show duplicated geometries, for observations defined by the same geometry at different dates or times. * Timestamp extraction resolution: choose the desired temporal resolution of the output. Aggregates will be calculated (sum, average, etc.) by grouping the source data by this temporal resolution. * Choose aggregate functions to use: you can choose between minimum (min), maximum (max), average (avg) and sum. * Minimum observation timestamp: if you enter a valid ISO timestamp in this field, only observations with a timestamp after this value will be processed. * Maximum observation timestamp: if you enter a valid ISO timestamp in this field, only observations with a timestamp before this value will be processed.","title":"Get aggregated data"},{"location":"processing/#parameters_4","text":"ID Description Type Info Required Advanced Option OUTPUT_LAYER_NAME Name of the output layer String SERIE Series of observations Enum \u2713 Values: SERIE_ID Series ID. If given, it overrides previous choice Number \u2713 Default: -1 Type: Integer Min: -1.7976931348623157e+308, Max: 1.7976931348623157e+308 ADD_SPATIAL_OBJECT_DATA Add spatial object ID and label ? Boolean \u2713 Default: True ADD_SPATIAL_OBJECT_GEOM Add spatial object geometry ? Boolean \u2713 TEMPORAL_RESOLUTION Timestamp extraction resolution Enum \u2713 Values: original, second, minute, hour, day, week, month, year AGGREGATE_FUNCTIONS Choose aggregate functions to use Enum \u2713 Default: [0, 1, 2, 3] Values: min, max, avg, sum MIN_TIMESTAMP Minimum observation timestamp, Ex: 2019-01-01 or 2019-01-06 00:00:00 String MAX_TIMESTAMP Maximum observation timestamp, Ex:2019-12-31 or 2019-12-31 23:59:53 String","title":"Parameters"},{"location":"processing/#outputs_4","text":"ID Description Type Info OUTPUT_STATUS Output status Number OUTPUT_STRING Output message String OUTPUT_LAYER Output layer VectorLayer OUTPUT_LAYER_RESULT_NAME Output layer name String","title":"Outputs"},{"location":"processing/#get-series-data","text":"This algorithm allows to add a table layer in your QGIS project containing the observation data from the chosen G-Obs series. Data are dynamically fetched from the database, meaning they are always up-to-date. * Name of the output layer: choose the name of the QGIS table layer to create. If not given, the label of the series will be used, by concatening the label of the indicator, protocol, source actor and spatial layer defining the chosen series. * Series of observations: choose the G-Obs series of observation you want to use as the data source. * Add spatial object geometry ? If checked, the output layer will be a spatial QGIS vector layer, displayed in the map, and not a geometryless table layer. The result can show duplicated geometries, for observations defined by the same geometry at different dates or times.","title":"Get series data"},{"location":"processing/#parameters_5","text":"ID Description Type Info Required Advanced Option OUTPUT_LAYER_NAME Name of the output layer String SERIE Series of observations Enum \u2713 Values: SERIE_ID Series ID. If given, it overrides previous choice Number \u2713 Default: -1 Type: Integer Min: -1.7976931348623157e+308, Max: 1.7976931348623157e+308 ADD_SPATIAL_OBJECT_GEOM Add spatial object geometry ? Boolean \u2713","title":"Parameters"},{"location":"processing/#outputs_5","text":"ID Description Type Info OUTPUT_STATUS Output status Number OUTPUT_STRING Output message String OUTPUT_LAYER Output layer VectorLayer OUTPUT_LAYER_RESULT_NAME Output layer name String","title":"Outputs"},{"location":"processing/#get-the-list-of-series","text":"","title":"Get the list of series"},{"location":"processing/#parameters_6","text":"ID Description Type Info Required Advanced Option No parameter","title":"Parameters"},{"location":"processing/#outputs_6","text":"ID Description Type Info OUTPUT_STATUS Output status Number OUTPUT_STRING Output message String OUTPUT_LAYER Output layer VectorLayer OUTPUT_LAYER_RESULT_NAME Output layer name String","title":"Outputs"},{"location":"processing/#get-spatial-layer-vector-data","text":"This algorithm allows to add a vector layer in your QGIS project containing the spatial data from the chosen G-Obs spatial layer. Data are dynamically fetched from the database, meaning they are always up-to-date. * Name of the output layer: choose the name of the QGIS layer to create. If not given, the label of the spatial layer will be used. * Spatial layer: choose the G-Obs spatial layer you want to use as the data source. * Date of validity: if you want to see the data for a specific date (ex: today or 2010-01-01)","title":"Get spatial layer vector data"},{"location":"processing/#parameters_7","text":"ID Description Type Info Required Advanced Option OUTPUT_LAYER_NAME Name of the output layer String SPATIALLAYER Spatial layer Enum \u2713 Values: SPATIALLAYER_ID Spatial layer ID. If given, it overrides previous choice Number \u2713 Default: -1 Type: Integer Min: -1.7976931348623157e+308, Max: 1.7976931348623157e+308 VALIDITY_DATE View data for a specific date (ex: today or 2010-01-01) String","title":"Parameters"},{"location":"processing/#outputs_7","text":"ID Description Type Info OUTPUT_STATUS Output status Number OUTPUT_STRING Output message String OUTPUT_LAYER Output layer VectorLayer OUTPUT_LAYER_RESULT_NAME Output layer name String","title":"Outputs"},{"location":"processing/#remove-series-data","text":"This algorithms allows to completely delete observation data for a specific series * Series of observations: the G-Obs series containing the observation data. * Check this box to delete: this box must be checked in order to proceed. It is mainly here as a security. Please check the chosen series before proceeding ! * Also delete the series item: if you want to delete not only the observation data of the series, but also the series item in the table.","title":"Remove series data"},{"location":"processing/#parameters_8","text":"ID Description Type Info Required Advanced Option SERIE Series of observations Enum \u2713 Values: SERIE_ID Series ID. If given, it overrides previous choice Number \u2713 Default: -1 Type: Integer Min: -1.7976931348623157e+308, Max: 1.7976931348623157e+308 RUN_DELETE Check this box to delete. No action will be done otherwise Boolean \u2713 DELETE_SERIES Also delete the series item Boolean \u2713","title":"Parameters"},{"location":"processing/#outputs_8","text":"ID Description Type Info OUTPUT_STATUS Output status Number OUTPUT_STRING Output message String","title":"Outputs"},{"location":"processing/#remove-spatial-layer-data","text":"This algorithms allows to completely delete spatial layer data (objects) for a specific spatial layer * Spatial layer: choose the G-Obs spatial layer. * Check this box to delete: this box must be checked in order to proceed. It is mainly here as a security. Please check the chosen spatial layer before proceeding ! * Also delete the spatial layer item: if you want to delete not only the spatial objects of the spatial layers, but also the spatial layer item in the table.","title":"Remove spatial layer data"},{"location":"processing/#parameters_9","text":"ID Description Type Info Required Advanced Option SPATIALLAYER Spatial layer Enum \u2713 Values: SPATIALLAYER_ID Spatial layer ID. If given, it overrides previous choice Number \u2713 Default: -1 Type: Integer Min: -1.7976931348623157e+308, Max: 1.7976931348623157e+308 RUN_DELETE Check this box to delete. No action will be done otherwise Boolean \u2713 DELETE_SPATIAL_LAYER Also delete the spatial layer item Boolean \u2713","title":"Parameters"},{"location":"processing/#outputs_9","text":"ID Description Type Info OUTPUT_STATUS Output status Number OUTPUT_STRING Output message String","title":"Outputs"},{"location":"processing/#import","text":"","title":"Import"},{"location":"processing/#import-spatial-layer-data","text":"This algorithm allows to import data from a QGIS spatial layer into the G-Obs database The G-Obs administrator must have created the needed spatial layer beforehand by addind the required items in the related database tables: gobs.actor_category, gobs.actor and gobs.spatial_layer. * Target spatial layer: choose one of the spatial layers available in G-Obs database * Source data layer: choose the QGIS vector layer containing the spatial data you want to import into the chosen spatial layer. * Unique identifier: choose the field containing the unique ID. It can be an integer or a text field, but must be unique. * Unique label: choose the text field containing the unique label of the layer feature. You could use the QGIS field calculator to create one if needed. * Start of validity: choose the field with the start timestamp of validity for each feature. Leave empty if all the features share the same date/time and manually enter the value in the next input. This field content must respect the ISO format. For example 2020-05-01 10:50:30 or 2020-01-01 * Start of validity for all features Specify the start timestamp of validity for all the objects in the spatial layer. This value must respect the ISO format. For example 2020-05-01 10:50:30 or 2020-01-01 * End of validity: choose the field with the end timestamp of validity for each feature. Leave empty if all the features share the same date/time and manually enter the value in the next input. This field content must respect the ISO format. For example 2020-05-01 10:50:30 or 2020-01-01 * End of validity for all features Specify the end timestamp of validity for all the objects in the spatial layer. This value must respect the ISO format. For example 2020-05-01 10:50:30 or 2020-01-01","title":"Import spatial layer data"},{"location":"processing/#parameters_10","text":"ID Description Type Info Required Advanced Option SPATIALLAYER Target spatial layer Enum \u2713 Values: SOURCELAYER Source data layer VectorLayer \u2713 Type: UNIQUEID Unique identifier Field \u2713 UNIQUELABEL Unique label Field \u2713 DATE_VALIDITY_MIN Start timestamp of validity. Field in ISO Format Field MANUAL_DATE_VALIDITY_MIN Manual start timestamp of validity (2019-01-06 or 2019-01-06 22:59:50) String DATE_VALIDITY_MAX End timestamp of validity. Field in ISO Format Field MANUAL_DATE_VALIDITY_MAX Manual end timestamp of validity (2019-01-31 or 2019-01-31 23:59:59) String","title":"Parameters"},{"location":"processing/#outputs_10","text":"ID Description Type Info OUTPUT_STRING Output message String","title":"Outputs"},{"location":"user-guide/","text":"Introduction # G-Obs interface # Algorithms # Import spatial layer data # This algorithm allows to import data from a QGIS spatial layer into the G-Obs database The G-Obs administrator must have created the needed spatial layer beforehand by addind the required items in the related database tables: gobs.actor_category, gobs.actor and gobs.spatial_layer. Target spatial layer: choose one of the spatial layers available in G-Obs database Source data layer: choose the QGIS vector layer containing the spatial data you want to import into the chosen spatial layer. Unique identifier: choose the field containing the unique ID. It can be an integer or a text field, but must be unique. Unique label: choose the text field containing the unique label of the layer feature. You could use the QGIS field calculator to create one if needed. Get spatial layer vector data # This algorithm allows to add a vector layer in your QGIS project containing the spatial data from the chosen G-Obs spatial layer. Data are dynamically fetched from the database, meaning they are always up-to-date. Name of the output layer: choose the name of the QGIS layer to create. If not given, the label of the spatial layer will be used. Spatial layer: choose the G-Obs spatial layer you want to use as the data source. Get series data # This algorithm allows to add a table layer in your QGIS project containing the observation data from the chosen G-Obs series. Data are dynamically fetched from the database, meaning they are always up-to-date. Name of the output layer: choose the name of the QGIS table layer to create. If not given, the label of the series will be used, by concatening the label of the indicator, protocol, source actor and spatial layer defining the chosen series. Series of observations: choose the G-Obs series of observation you want to use as the data source. Add spatial object geometry ? If checked, the output layer will be a spatial QGIS vector layer, displayed in the map, and not a geometryless table layer. The result can show duplicated geometries, for observations defined by the same geometry at different dates or times. Get aggregated data # This algorithm allows to add a table or vector layer in your QGIS project containing the aggregated observation data from the chosen G-Obs series. The aggregation is made depending of the user input. Data are dynamically fetched from the database, meaning they are always up-to-date. Names of the output layer: choose the name of the QGIS layer to create. If not given, the label of the series of observations, as written in the series combo box. Series of observations: the G-Obs series containing the observation data. Add spatial object ID and label ? If checked, the output layer will have two more columns with the spatial layer unique identifiers (ID and label). Add spatial object geometry ? If checked, the output layer will be a spatial QGIS vector layer, displayed in the map, and not a geometryless table layer. The result can show duplicated geometries, for observations defined by the same geometry at different dates or times. Timestamp extraction resolution: choose the desired temporal resolution of the output. Aggregates will be calculated (sum, average, etc.) by grouping the source data by this temporal resolution. Choose aggregate functions to use: you can choose between minimum (min), maximum (max), average (avg) and sum. Minimum observation timestamp: if you enter a valid ISO timestamp in this field, only observations with a timestamp after this value will be processed. Maximum observation timestamp: if you enter a valid ISO timestamp in this field, only observations with a timestamp before this value will be processed. Remove series data # This algorithms allows to completely delete observation data for a specific series Series of observations: the G-Obs series containing the observation data. Check this box to delete: this box must be checked in order to proceed. It is mainly here as a security. Please check the chosen series before proceeding ! Also delete the series item: if you want to delete not only the observation data of the series, but also the series item in the table. Remove spatial layer data # This algorithms allows to completely delete spatial layer data (objects) for a specific spatial layer Spatial layer: choose the G-Obs spatial layer. Check this box to delete: this box must be checked in order to proceed. It is mainly here as a security. Please check the chosen spatial layer before proceeding ! Also delete the spatial layer item: if you want to delete not only the spatial objects of the spatial layers, but also the spatial layer item in the table.","title":"Main"},{"location":"user-guide/#introduction","text":"","title":"Introduction"},{"location":"user-guide/#g-obs-interface","text":"","title":"G-Obs interface"},{"location":"user-guide/#algorithms","text":"","title":"Algorithms"},{"location":"user-guide/#import-spatial-layer-data","text":"This algorithm allows to import data from a QGIS spatial layer into the G-Obs database The G-Obs administrator must have created the needed spatial layer beforehand by addind the required items in the related database tables: gobs.actor_category, gobs.actor and gobs.spatial_layer. Target spatial layer: choose one of the spatial layers available in G-Obs database Source data layer: choose the QGIS vector layer containing the spatial data you want to import into the chosen spatial layer. Unique identifier: choose the field containing the unique ID. It can be an integer or a text field, but must be unique. Unique label: choose the text field containing the unique label of the layer feature. You could use the QGIS field calculator to create one if needed.","title":"Import spatial layer data"},{"location":"user-guide/#get-spatial-layer-vector-data","text":"This algorithm allows to add a vector layer in your QGIS project containing the spatial data from the chosen G-Obs spatial layer. Data are dynamically fetched from the database, meaning they are always up-to-date. Name of the output layer: choose the name of the QGIS layer to create. If not given, the label of the spatial layer will be used. Spatial layer: choose the G-Obs spatial layer you want to use as the data source.","title":"Get spatial layer vector data"},{"location":"user-guide/#get-series-data","text":"This algorithm allows to add a table layer in your QGIS project containing the observation data from the chosen G-Obs series. Data are dynamically fetched from the database, meaning they are always up-to-date. Name of the output layer: choose the name of the QGIS table layer to create. If not given, the label of the series will be used, by concatening the label of the indicator, protocol, source actor and spatial layer defining the chosen series. Series of observations: choose the G-Obs series of observation you want to use as the data source. Add spatial object geometry ? If checked, the output layer will be a spatial QGIS vector layer, displayed in the map, and not a geometryless table layer. The result can show duplicated geometries, for observations defined by the same geometry at different dates or times.","title":"Get series data"},{"location":"user-guide/#get-aggregated-data","text":"This algorithm allows to add a table or vector layer in your QGIS project containing the aggregated observation data from the chosen G-Obs series. The aggregation is made depending of the user input. Data are dynamically fetched from the database, meaning they are always up-to-date. Names of the output layer: choose the name of the QGIS layer to create. If not given, the label of the series of observations, as written in the series combo box. Series of observations: the G-Obs series containing the observation data. Add spatial object ID and label ? If checked, the output layer will have two more columns with the spatial layer unique identifiers (ID and label). Add spatial object geometry ? If checked, the output layer will be a spatial QGIS vector layer, displayed in the map, and not a geometryless table layer. The result can show duplicated geometries, for observations defined by the same geometry at different dates or times. Timestamp extraction resolution: choose the desired temporal resolution of the output. Aggregates will be calculated (sum, average, etc.) by grouping the source data by this temporal resolution. Choose aggregate functions to use: you can choose between minimum (min), maximum (max), average (avg) and sum. Minimum observation timestamp: if you enter a valid ISO timestamp in this field, only observations with a timestamp after this value will be processed. Maximum observation timestamp: if you enter a valid ISO timestamp in this field, only observations with a timestamp before this value will be processed.","title":"Get aggregated data"},{"location":"user-guide/#remove-series-data","text":"This algorithms allows to completely delete observation data for a specific series Series of observations: the G-Obs series containing the observation data. Check this box to delete: this box must be checked in order to proceed. It is mainly here as a security. Please check the chosen series before proceeding ! Also delete the series item: if you want to delete not only the observation data of the series, but also the series item in the table.","title":"Remove series data"},{"location":"user-guide/#remove-spatial-layer-data","text":"This algorithms allows to completely delete spatial layer data (objects) for a specific spatial layer Spatial layer: choose the G-Obs spatial layer. Check this box to delete: this box must be checked in order to proceed. It is mainly here as a security. Please check the chosen spatial layer before proceeding ! Also delete the spatial layer item: if you want to delete not only the spatial objects of the spatial layers, but also the spatial layer item in the table.","title":"Remove spatial layer data"},{"location":"user-guide/installation/","text":"Introduction # G-Obs is a set of tools to store and manage spatial and time data in a standardized way. To use it, you need to: install QGIS Desktop install the plugin G-Obs for QGIS add a connection to a PostgreSQL database with PostGIS extension install the G-Obs database structure on this PostgreSQL database Get QGIS Desktop # The administrator must use the QGIS desktop software , version 3.4.x or above, to edit these needed metadata. You can download QGIS in the official download page Install G-Obs plugin # At present, G-Obs is not yet in QGIS official plugin repository. To install the plugin, you need to: open QGIS Plugin manager (menu Plugins) in the Parameters tab, add a new plugin repository name G-Obs with the URL: https://github.com/3liz/qgis-gobs-plugin/releases/latest/download/plugins.xml In the All tab, search for the word obs and install the G-Obs plugin. After a successfull installation, you should see a new dock called G-Obs For further details, you can have a look at 3liz documentation web page . Add a connection to the PostgreSQL database # G-Obs stores all the data in a PostgreSQL database , with the PostGIS extension installed (to manage spatial data). You need to have access to a PostgreSQL database, with enough rights to create a database schema and tables inside this schema. In QGIS, use the Datasource manager under the Layer menu to create a new PostgreSQL connection: Activate the PostgreSQL tab (elephant icon) Click on the New button In the creation dialog, fill the needed information, and use the Test connection button to make sure the credentials are ok. We advise to: use a service connection instead of the basic authentication. See QGIS documentation check the boxes Use estimated table metadata and Also list tables with no geometry Once your connection is set up, you can create the G-Obs database structure in your PostgreSQL database Configure the G-Obs plugin # This algorithm will allow to configure G-Obs extension for the current QGIS project. You must run this script before any other script. Parameters: PostgreSQL connection to G-Obs database : name of the database connection you would like to use for the current QGIS project. This connection will be used for the other algorithms. Create the G-Obs database structure # Install the G-Obs database structure with tables and function on the chosen database connection. This script will add a gobs schema with needed tables and functions. Parameters: PostgreSQL connection to G-Obs database : name of the database connection you would like to use for the installation. Upgrade database structure # Upgrade the G-Obs tables and functions in the chosen database. If you have upgraded your QGIS G-Obs plugin, you can run this script to upgrade your database to the new plugin version. Parameters: PostgreSQL connection to G-Obs database : name of the database connection you would like to use for the upgrade.","title":"Installation"},{"location":"user-guide/installation/#introduction","text":"G-Obs is a set of tools to store and manage spatial and time data in a standardized way. To use it, you need to: install QGIS Desktop install the plugin G-Obs for QGIS add a connection to a PostgreSQL database with PostGIS extension install the G-Obs database structure on this PostgreSQL database","title":"Introduction"},{"location":"user-guide/installation/#get-qgis-desktop","text":"The administrator must use the QGIS desktop software , version 3.4.x or above, to edit these needed metadata. You can download QGIS in the official download page","title":"Get QGIS Desktop"},{"location":"user-guide/installation/#install-g-obs-plugin","text":"At present, G-Obs is not yet in QGIS official plugin repository. To install the plugin, you need to: open QGIS Plugin manager (menu Plugins) in the Parameters tab, add a new plugin repository name G-Obs with the URL: https://github.com/3liz/qgis-gobs-plugin/releases/latest/download/plugins.xml In the All tab, search for the word obs and install the G-Obs plugin. After a successfull installation, you should see a new dock called G-Obs For further details, you can have a look at 3liz documentation web page .","title":"Install G-Obs plugin"},{"location":"user-guide/installation/#add-a-connection-to-the-postgresql-database","text":"G-Obs stores all the data in a PostgreSQL database , with the PostGIS extension installed (to manage spatial data). You need to have access to a PostgreSQL database, with enough rights to create a database schema and tables inside this schema. In QGIS, use the Datasource manager under the Layer menu to create a new PostgreSQL connection: Activate the PostgreSQL tab (elephant icon) Click on the New button In the creation dialog, fill the needed information, and use the Test connection button to make sure the credentials are ok. We advise to: use a service connection instead of the basic authentication. See QGIS documentation check the boxes Use estimated table metadata and Also list tables with no geometry Once your connection is set up, you can create the G-Obs database structure in your PostgreSQL database","title":"Add a connection to the PostgreSQL database"},{"location":"user-guide/installation/#configure-the-g-obs-plugin","text":"This algorithm will allow to configure G-Obs extension for the current QGIS project. You must run this script before any other script. Parameters: PostgreSQL connection to G-Obs database : name of the database connection you would like to use for the current QGIS project. This connection will be used for the other algorithms.","title":"Configure the G-Obs plugin"},{"location":"user-guide/installation/#create-the-g-obs-database-structure","text":"Install the G-Obs database structure with tables and function on the chosen database connection. This script will add a gobs schema with needed tables and functions. Parameters: PostgreSQL connection to G-Obs database : name of the database connection you would like to use for the installation.","title":"Create the G-Obs database structure"},{"location":"user-guide/installation/#upgrade-database-structure","text":"Upgrade the G-Obs tables and functions in the chosen database. If you have upgraded your QGIS G-Obs plugin, you can run this script to upgrade your database to the new plugin version. Parameters: PostgreSQL connection to G-Obs database : name of the database connection you would like to use for the upgrade.","title":"Upgrade database structure"}]}