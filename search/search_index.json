{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"GObs","text":"<ul> <li>Concepts</li> <li>Admin guide</li> <li>User guide</li> <li>Installation</li> <li>Database</li> <li>Processing</li> <li>Old french concepts doc</li> </ul>"},{"location":"CHANGELOG/","title":"Changelog","text":""},{"location":"CHANGELOG/#unreleased","title":"Unreleased","text":""},{"location":"CHANGELOG/#601-2023-04-04","title":"6.0.1 - 2023-04-04","text":"<ul> <li>Version check - Get the available migrations from the database   version instead of from the plugin version</li> </ul>"},{"location":"CHANGELOG/#600-2023-03-27","title":"6.0.0 - 2023-03-27","text":"<ul> <li>Indicator - Move the dimensions characteristics into a new dedicated table</li> </ul>"},{"location":"CHANGELOG/#522-2023-03-06","title":"5.2.2 - 2023-03-06","text":"<ul> <li>Re-enable all languages in the plugin</li> </ul>"},{"location":"CHANGELOG/#521-2023-03-02","title":"5.2.1 - 2023-03-02","text":"<ul> <li>Improved the message about the database version and if migrations are available</li> <li>Temporary disabling translations, this version is only available in English</li> </ul>"},{"location":"CHANGELOG/#520-2023-02-24","title":"5.2.0 - 2023-02-24","text":"<ul> <li>G-Obs right panel <ul> <li>Show the buttons \"Create database structure\"    and \"Upgrade database structure\" only when the project variable   <code>gobs_is_admin</code> has the value <code>yes</code> in the project properties.</li> <li>Display the plugin version and the database structure version   at the top of the panel and add messages depending on these versions.</li> </ul> </li> <li>Temporary disabling translations, this version is only available in English</li> </ul>"},{"location":"CHANGELOG/#510-2022-10-07","title":"5.1.0 - 2022-10-07","text":"<ul> <li>Get aggregated data</li> <li>Fix wrong use of aggregate functions on incompatible data types</li> <li>Add <code>count</code>, <code>count_distinct</code> and <code>string_agg</code> aggregates</li> <li>Database</li> <li>Add project and project_view tables</li> <li>Add new table <code>gobs.application</code></li> <li>Update documentation</li> <li>Admin QGIS project:</li> <li>upgrade project to 3.16</li> <li>use SSL prefer mode for PostgreSQL connection</li> <li>Get observation data - Add 2 columns <code>observation_start</code> &amp; <code>observation_end</code>   with the start and end timestamp of the observation, formatted in respect of the indicator   specified date format</li> <li>Create database structure - New option to add observation and spatial object data</li> <li>Code style - Fix Python PEP8 issues</li> <li>Tests - Add new SQL file containing observation and spatial_object data</li> <li>Docs - Update concepts and admin guide WIP</li> <li>CI &amp; tests -Use docker compose plugin instead of docker-compose</li> </ul>"},{"location":"CHANGELOG/#501-2021-05-31","title":"5.0.1 - 2021-05-31","text":"<ul> <li>Fix some migrations about the API in QGIS 3.16</li> </ul>"},{"location":"CHANGELOG/#500-2021-04-07","title":"5.0.0 - 2021-04-07","text":"<ul> <li>Add button in the help menu to open the online webpage https://docs.3liz.org/qgis-gobs-plugin</li> <li>Raise the QGIS minimum version to 3.16</li> <li>Update the documentation website with MkDocs</li> </ul>"},{"location":"CHANGELOG/#043-2021-04-07","title":"0.4.3 - 2021-04-07","text":"<ul> <li>Actor - Add a new \"a_login\" column with unique constraint</li> <li>Administration - Update QGIS admin project template</li> <li>Docs - Update Schemaspy</li> </ul>"},{"location":"CHANGELOG/#042-2021-03-15","title":"0.4.2 - 2021-03-15","text":"<ul> <li>Import observations - specify the series spatial layer id to match spatial objects: fix some bugs if spatial objects shared the same codes for different spatial layers.</li> <li>Import - Spatial layer: add new SQL functions to check related observations</li> <li>Admin - Update the QGIS administration project template with the new document layer</li> <li>Doc - Update Schemaspy database documentation</li> </ul>"},{"location":"CHANGELOG/#041-2020-12-02","title":"0.4.1 - 2020-12-02","text":"<p>Admin - Update administration project template Docs - Update admin guide Docs - Add Processing documentation Docs - Update SchemaSpy database structure documentation: https://docs.3liz.org/qgis-gobs-plugin/database/ Docs - Database doc generation: improve compatibility with PG13 Fix some packaging issues about Transifex</p>"},{"location":"CHANGELOG/#040-2020-12-02","title":"0.4.0 - 2020-12-02","text":"<ul> <li>Database structure - Add needed tables and fields for G-Event API:</li> <li>indicator: category, created_at and updated_at</li> <li>observation: end timestamp, uid, created_at and updated_at</li> <li>spatial object: start and end of validity dates, uid, created_at and updated_at</li> <li>new table document to store indicator documents</li> <li>new table deleted_data_log to store indicator documents</li> <li>new trigger to calculate created_at and updated_at, and auto-change validity date for spatial objects</li> <li>Import - Observation data: manage new field end date (manual or from field)</li> <li>Import - Spatial layer objects: allow multiple versions with validity dates</li> <li>Test data - Add tracks data &amp; update pluviometers and cities data</li> <li>Tests - Add test for the import spatial layer data algorithm</li> <li>Docs - Update database documentation</li> <li>Continuous Integration - Move from CI to GitHub actions</li> <li>Makefile - Add sql command to export &amp; reformat SQL install scripts</li> <li>Docs - Improve administration guide</li> </ul>"},{"location":"CHANGELOG/#031-2020-08-12","title":"0.3.1 - 2020-08-12","text":"<ul> <li>Documentation - Publish documentation to https://3liz.github.io/qgis-gobs-plugin/ (installation, concepts, admin guide, user guide &amp; database)</li> <li>Algorithms - New algorithm to create a database local interface for admins as a QGIS project</li> <li>Active PostgreSQL connection - Use a QGIS project variable instead of a QGIS global variable to store the connection name used</li> <li>Dock - Reorganize buttons, display the chosen database connection on top</li> <li>Dock - Replace helps buttons by single online help button</li> </ul>"},{"location":"CHANGELOG/#030-2020-06-17","title":"0.3.0 - 2020-06-17","text":"<ul> <li>Remove spatial layer data - new algorithm to proceed spatial layer data deletion</li> <li>Remove series data - new algorithm to proceed observation data deletion</li> <li>QGIS gobs_manager project - change SCR and map extent</li> <li>Get observation data - Add option to also get the corresponding geometry</li> <li>Publish on GitHub: https://github.com/3liz/qgis-gobs-plugin</li> </ul>"},{"location":"CHANGELOG/#0211-2020-06-05","title":"0.2.11 - 2020-06-05","text":"<ul> <li>Import scripts - Fix bugs related to old use of <code>self.tr</code> instead of <code>tr</code></li> </ul>"},{"location":"CHANGELOG/#0210-2020-05-28","title":"0.2.10 - 2020-05-28","text":"<ul> <li>Import spatial layer - Fix bug with points &amp; linestrings</li> </ul>"},{"location":"CHANGELOG/#029-2020-05-27","title":"0.2.9 - 2020-05-27","text":"<ul> <li>Import observation data - Explicitly convert source value to target format and remove useless spaces from source data</li> <li>Import spatial layer - Check geometry types compatibility between QGIS layer and target spatial layer</li> <li>Demo data - fix encoding for sub-districts layer</li> <li>Continuous integration &amp; test - many fixes and improvements</li> </ul>"},{"location":"CHANGELOG/#028-2020-05-05","title":"0.2.8 - 2020-05-05","text":"<ul> <li>Import spatial layer data - Use ST_Buffer(geom, 0) to remove invalid geometries</li> <li>Import spatial layer data - Fix bug when opening form</li> <li>Documentation - Describe each algorithm usage and parameters.</li> <li>Documentation - Add 2 button to see Concepts and Database schema</li> </ul>"},{"location":"CHANGELOG/#027-2020-03-12","title":"0.2.7 - 2020-03-12","text":"<ul> <li>Rename name, title, label, code fields into normalized code label</li> <li>Import observation data - Adapt alg inputs based on the indicator characteristics</li> </ul>"},{"location":"CHANGELOG/#026-2020-03-06","title":"0.2.6 - 2020-03-06","text":"<ul> <li>Create db structure - Fix bug when adding test data</li> <li>Move comments in specific SQL script file</li> </ul>"},{"location":"CHANGELOG/#025-2020-02-24","title":"0.2.5 - 2020-02-24","text":"<ul> <li>Database - Update installation scripts &amp; documentation</li> <li>QGIS - Fix bug with indicator type values (remove default value)</li> <li>Import observation - add constraint to override data only if not yet validated</li> <li>Feedback - Use reportError instead of pushInfo when needed</li> <li>Import observation - Remove useless series id in the end of series combobox</li> <li>Get series data - Fix bug giving wrong vector dimensions &amp;&amp; remove useless series id in combo boxes</li> </ul>"},{"location":"CONTRIBUTING/","title":"Contributing","text":""},{"location":"CONTRIBUTING/#documentation","title":"Documentation","text":"<p>The documentation is using MkDocs with Material :</p> <pre><code>pip install -r requirements/doc.txt\nmkdocs serve\n</code></pre>"},{"location":"CONTRIBUTING/#database","title":"Database","text":"<p>On a new database, if you want to install the database with migrations :</p> <pre><code>import os\nos.environ['TEST_DATABASE_INSTALL_GOBS'] = '0.2.2'  # Enable\ndel os.environ['TEST_DATABASE_INSTALL_GOBS']  # Disable\n</code></pre>"},{"location":"changelog/","title":"Changelog","text":""},{"location":"changelog/#changelog","title":"Changelog","text":""},{"location":"changelog/#unreleased","title":"Unreleased","text":""},{"location":"changelog/#601-2023-04-04","title":"6.0.1 - 2023-04-04","text":"<ul> <li>Version check - Get the available migrations from the database   version instead of from the plugin version</li> </ul>"},{"location":"changelog/#600-2023-03-27","title":"6.0.0 - 2023-03-27","text":"<ul> <li>Indicator - Move the dimensions characteristics into a new dedicated table</li> </ul>"},{"location":"changelog/#522-2023-03-06","title":"5.2.2 - 2023-03-06","text":"<ul> <li>Re-enable all languages in the plugin</li> </ul>"},{"location":"changelog/#521-2023-03-02","title":"5.2.1 - 2023-03-02","text":"<ul> <li>Improved the message about the database version and if migrations are available</li> <li>Temporary disabling translations, this version is only available in English</li> </ul>"},{"location":"changelog/#520-2023-02-24","title":"5.2.0 - 2023-02-24","text":"<ul> <li>G-Obs right panel <ul> <li>Show the buttons \"Create database structure\"    and \"Upgrade database structure\" only when the project variable   <code>gobs_is_admin</code> has the value <code>yes</code> in the project properties.</li> <li>Display the plugin version and the database structure version   at the top of the panel and add messages depending on these versions.</li> </ul> </li> <li>Temporary disabling translations, this version is only available in English</li> </ul>"},{"location":"changelog/#510-2022-10-07","title":"5.1.0 - 2022-10-07","text":"<ul> <li>Get aggregated data</li> <li>Fix wrong use of aggregate functions on incompatible data types</li> <li>Add <code>count</code>, <code>count_distinct</code> and <code>string_agg</code> aggregates</li> <li>Database</li> <li>Add project and project_view tables</li> <li>Add new table <code>gobs.application</code></li> <li>Update documentation</li> <li>Admin QGIS project:</li> <li>upgrade project to 3.16</li> <li>use SSL prefer mode for PostgreSQL connection</li> <li>Get observation data - Add 2 columns <code>observation_start</code> &amp; <code>observation_end</code>   with the start and end timestamp of the observation, formatted in respect of the indicator   specified date format</li> <li>Create database structure - New option to add observation and spatial object data</li> <li>Code style - Fix Python PEP8 issues</li> <li>Tests - Add new SQL file containing observation and spatial_object data</li> <li>Docs - Update concepts and admin guide WIP</li> <li>CI &amp; tests -Use docker compose plugin instead of docker-compose</li> </ul>"},{"location":"changelog/#501-2021-05-31","title":"5.0.1 - 2021-05-31","text":"<ul> <li>Fix some migrations about the API in QGIS 3.16</li> </ul>"},{"location":"changelog/#500-2021-04-07","title":"5.0.0 - 2021-04-07","text":"<ul> <li>Add button in the help menu to open the online webpage https://docs.3liz.org/qgis-gobs-plugin</li> <li>Raise the QGIS minimum version to 3.16</li> <li>Update the documentation website with MkDocs</li> </ul>"},{"location":"changelog/#043-2021-04-07","title":"0.4.3 - 2021-04-07","text":"<ul> <li>Actor - Add a new \"a_login\" column with unique constraint</li> <li>Administration - Update QGIS admin project template</li> <li>Docs - Update Schemaspy</li> </ul>"},{"location":"changelog/#042-2021-03-15","title":"0.4.2 - 2021-03-15","text":"<ul> <li>Import observations - specify the series spatial layer id to match spatial objects: fix some bugs if spatial objects shared the same codes for different spatial layers.</li> <li>Import - Spatial layer: add new SQL functions to check related observations</li> <li>Admin - Update the QGIS administration project template with the new document layer</li> <li>Doc - Update Schemaspy database documentation</li> </ul>"},{"location":"changelog/#041-2020-12-02","title":"0.4.1 - 2020-12-02","text":"<p>Admin - Update administration project template Docs - Update admin guide Docs - Add Processing documentation Docs - Update SchemaSpy database structure documentation: https://docs.3liz.org/qgis-gobs-plugin/database/ Docs - Database doc generation: improve compatibility with PG13 Fix some packaging issues about Transifex</p>"},{"location":"changelog/#040-2020-12-02","title":"0.4.0 - 2020-12-02","text":"<ul> <li>Database structure - Add needed tables and fields for G-Event API:</li> <li>indicator: category, created_at and updated_at</li> <li>observation: end timestamp, uid, created_at and updated_at</li> <li>spatial object: start and end of validity dates, uid, created_at and updated_at</li> <li>new table document to store indicator documents</li> <li>new table deleted_data_log to store indicator documents</li> <li>new trigger to calculate created_at and updated_at, and auto-change validity date for spatial objects</li> <li>Import - Observation data: manage new field end date (manual or from field)</li> <li>Import - Spatial layer objects: allow multiple versions with validity dates</li> <li>Test data - Add tracks data &amp; update pluviometers and cities data</li> <li>Tests - Add test for the import spatial layer data algorithm</li> <li>Docs - Update database documentation</li> <li>Continuous Integration - Move from CI to GitHub actions</li> <li>Makefile - Add sql command to export &amp; reformat SQL install scripts</li> <li>Docs - Improve administration guide</li> </ul>"},{"location":"changelog/#031-2020-08-12","title":"0.3.1 - 2020-08-12","text":"<ul> <li>Documentation - Publish documentation to https://3liz.github.io/qgis-gobs-plugin/ (installation, concepts, admin guide, user guide &amp; database)</li> <li>Algorithms - New algorithm to create a database local interface for admins as a QGIS project</li> <li>Active PostgreSQL connection - Use a QGIS project variable instead of a QGIS global variable to store the connection name used</li> <li>Dock - Reorganize buttons, display the chosen database connection on top</li> <li>Dock - Replace helps buttons by single online help button</li> </ul>"},{"location":"changelog/#030-2020-06-17","title":"0.3.0 - 2020-06-17","text":"<ul> <li>Remove spatial layer data - new algorithm to proceed spatial layer data deletion</li> <li>Remove series data - new algorithm to proceed observation data deletion</li> <li>QGIS gobs_manager project - change SCR and map extent</li> <li>Get observation data - Add option to also get the corresponding geometry</li> <li>Publish on GitHub: https://github.com/3liz/qgis-gobs-plugin</li> </ul>"},{"location":"changelog/#0211-2020-06-05","title":"0.2.11 - 2020-06-05","text":"<ul> <li>Import scripts - Fix bugs related to old use of <code>self.tr</code> instead of <code>tr</code></li> </ul>"},{"location":"changelog/#0210-2020-05-28","title":"0.2.10 - 2020-05-28","text":"<ul> <li>Import spatial layer - Fix bug with points &amp; linestrings</li> </ul>"},{"location":"changelog/#029-2020-05-27","title":"0.2.9 - 2020-05-27","text":"<ul> <li>Import observation data - Explicitly convert source value to target format and remove useless spaces from source data</li> <li>Import spatial layer - Check geometry types compatibility between QGIS layer and target spatial layer</li> <li>Demo data - fix encoding for sub-districts layer</li> <li>Continuous integration &amp; test - many fixes and improvements</li> </ul>"},{"location":"changelog/#028-2020-05-05","title":"0.2.8 - 2020-05-05","text":"<ul> <li>Import spatial layer data - Use ST_Buffer(geom, 0) to remove invalid geometries</li> <li>Import spatial layer data - Fix bug when opening form</li> <li>Documentation - Describe each algorithm usage and parameters.</li> <li>Documentation - Add 2 button to see Concepts and Database schema</li> </ul>"},{"location":"changelog/#027-2020-03-12","title":"0.2.7 - 2020-03-12","text":"<ul> <li>Rename name, title, label, code fields into normalized code label</li> <li>Import observation data - Adapt alg inputs based on the indicator characteristics</li> </ul>"},{"location":"changelog/#026-2020-03-06","title":"0.2.6 - 2020-03-06","text":"<ul> <li>Create db structure - Fix bug when adding test data</li> <li>Move comments in specific SQL script file</li> </ul>"},{"location":"changelog/#025-2020-02-24","title":"0.2.5 - 2020-02-24","text":"<ul> <li>Database - Update installation scripts &amp; documentation</li> <li>QGIS - Fix bug with indicator type values (remove default value)</li> <li>Import observation - add constraint to override data only if not yet validated</li> <li>Feedback - Use reportError instead of pushInfo when needed</li> <li>Import observation - Remove useless series id in the end of series combobox</li> <li>Get series data - Fix bug giving wrong vector dimensions &amp;&amp; remove useless series id in combo boxes</li> </ul>"},{"location":"contributing/","title":"Contribution","text":""},{"location":"contributing/#contributing","title":"Contributing","text":""},{"location":"contributing/#documentation","title":"Documentation","text":"<p>The documentation is using MkDocs with Material :</p> <pre><code>pip install -r requirements/doc.txt\nmkdocs serve\n</code></pre>"},{"location":"contributing/#database","title":"Database","text":"<p>On a new database, if you want to install the database with migrations :</p> <pre><code>import os\nos.environ['TEST_DATABASE_INSTALL_GOBS'] = '0.2.2'  # Enable\ndel os.environ['TEST_DATABASE_INSTALL_GOBS']  # Disable\n</code></pre>"},{"location":"admin-guide/","title":"Introduction","text":"<p>The administrator is in charge of describing the different data stored in the G-Obs database:</p> <ul> <li>actors,</li> <li>spatial layers,</li> <li>protocols,</li> <li>indicators,</li> <li>dimensions,</li> <li>series of data.</li> </ul> <p>See the documentation on these concepts.</p> <p>To go on, you must first have installed and configured the G-Obs plugin for QGIS Desktop. See the doc G-Obs installation and configuration</p>"},{"location":"admin-guide/#create-your-database-local-interface","title":"Create your database local interface","text":"<p>This algorithm will create a new QGIS project file for G-Obs administration purpose.</p> <p>The generated QGIS project must then be opened by the administrator to create the needed metadata by using QGIS editing capabilities (actors, spatial layers information, indicators, etc.)</p> <p>Parameters:</p> <ul> <li><code>PostgreSQL connection to G-Obs database</code>: name of the database connection   you would like to use for the new QGIS project.</li> <li><code>QGIS project file to create</code>: choose the output file destination.   We advise you to choose a name reflecting the G-Obs database name.</li> </ul> <p></p>"},{"location":"admin-guide/#edit-the-database-metadata","title":"Edit the database metadata","text":""},{"location":"admin-guide/#the-administration-project","title":"The administration project","text":"<p>The administration project created beforehand will allow the administrator to create, modify and delete metadata in the G-Obs database. As an administrator, you must open this project with QGIS.</p> <p>Before going on, be sure you have a working connection between your computer and the database server.</p> <p>Once opened, the QGIS project is configured to allow the administrator to edit the data. In the QGIS Layers panel, you will see the following layers:</p> <p></p> <p>These layers represent the G-Obs PostgreSQL tables which are in charge of storing the metadata and data. They are organized in two groups in the Layers panel:</p> <ul> <li><code>Metadata</code>: group containing the layers you need to edit to add metadata on actors, protocols, series, etc.</li> <li><code>Data</code>: group containing the data stored in the database. Do no edit these layers</li> </ul>"},{"location":"admin-guide/#how-to-edit-the-metadata","title":"How to edit the metadata","text":"<p>In QGIS, you can edit the layer data by toggling the editing mode for each layer:</p> <ul> <li>Select the layer in the panel by clicking on it: the layer is highlighted in blue</li> <li>Right-click on the layer name and select <code>Toggle Editing</code> or use the menu <code>Layer / Toggle Editing</code></li> </ul> <p>Before going on, please toggle editing for all the following layers:</p> <ul> <li>actor_category</li> <li>actor</li> <li>spatial_layer</li> <li>indicator</li> <li>protocol</li> <li>series</li> <li>project</li> <li>project_view</li> </ul> <p>Please refer to the documentation on G-Obs concepts to understand the meaning of each layer.</p> <p>To add a new record, select the layer in the <code>Layers</code> panel, then use the menu <code>Edit / Add record</code> (or <code>CTRL+.</code>). It will open a form wich lets you enter the needed data. Once every required fields have been filled, validate with the <code>OK</code> button on the bottom-right.</p> <p></p> <p>To view all the records of a layer, select the layer in the <code>Layers</code> panel, then open the attribute table with the menu <code>Layers / Open attribute table</code> (or <code>F6</code>)</p> <p>You can undo previous modifications with the menu <code>Edit / Undo</code> (or <code>CTRL+Z</code>).</p> <p>To permanently save the changed data in the layer, you need to use the menu <code>Layer / Saver layer edits</code>. After saving the data, you will not be able to undo your changes (but you can always reopen the data and changed the values).</p> <p>To edit a record, open the layer attribute table, and then click on the small button <code>Switch to form view</code> on the bottom-right of the dialog (the first one). Then select a record in the left panel, and use the displayed form to edit the data.</p> <p></p> <p>To delete a record, select the record in the attribute table by clicking on the line number on the left: the line must be highlighted in blue. Then use the trash icon <code>Delete selected features</code> (or <code>Del</code>). You can undo the deletion if you have not yet saved layer edits.</p>"},{"location":"admin-guide/#example-data","title":"Example data","text":""},{"location":"admin-guide/#actor_category","title":"actor_category","text":"<p>Example content:</p> id ac_label ac_description 1 Public organizations 2 Research centers <p>Notes:</p> <ul> <li>Id will be automatically given after saving layer edits. Do not modify.</li> <li>Label and description are mandatory</li> </ul>"},{"location":"admin-guide/#actor","title":"actor","text":"<p>Example content</p> id a_label a_description a_email id_category 1 IGN French national geographical institute. contact@ign.fr 1 3 DREAL Bretagne Direction r\u00e9gionale de l'environnement, de l'am\u00e9nagement et du logement, r\u00e9gion Bretagne. email@dreal.fr 1 2 CIRAD The French agricultural research and international cooperation organization working for the sustainable development of tropical and Mediterranean regions. contact@cirad.fr 2 <p>Notes:</p> <ul> <li>Id will be automatically given after saving layer edits. Do not modify.</li> <li>All fields are mandatory</li> <li>The list of categories is taken from the <code>actor_category</code> table.   You should add new entry in this table beforehand if needed.</li> </ul>"},{"location":"admin-guide/#spatial_layer","title":"spatial_layer","text":"<p>Example content</p> id sl_code sl_label sl_description sl_creation_date fk_id_actor sl_geometry_type 1 pluviometers Pluviometers Sites equiped with pluviometers to measure rainfalls 2019-06-26 2 point 2 brittany-cities Cities of Brittany , France Cities of Brittany, France 2019-07-05 2 multipolygon <p>Notes:</p> <ul> <li>Id will be automatically given after saving layer edits. Do not modify.</li> <li>All fields are mandatory</li> <li>Label will be used as the display name</li> <li>Code will be used as a unique text identifier for the spatial layer.   Please do not use spaces, accentuated characters or punctuation symbol.</li> <li>Geometry type must be chosen with care and must reflect the data type   of the source vector layer to import for these spatial layer.   Usually, for polygon layers, it is safer to use MultiPolygon (to be able to represent islands or holes)</li> <li>Actors combobox comes from the data of the <code>actor</code> layer</li> <li>Creation date is automatically set with the current date, but you can change it if needed.</li> </ul>"},{"location":"admin-guide/#indicator","title":"indicator","text":"<p>Example content</p> id id_code id_label id_description id_date_format id_paths id_category created_at updated_at 1 pluviometry Hourly pluviometry Hourly rainfall pluviometry in millimetre hour Environment / Water / Data, Physical and chemical conditions / Water Water 2020-12-02 15:06:29.11064 2020-12-02 15:06:29.11064 2 population Population Number of inhabitants for city year Socio-eco / Demography / Population Population 2020-12-02 15:06:29.11064 2020-12-02 15:06:29.11064 3 hiker_position Hikers position Position and altitude of hikers second Hiking / Tracks Tracks 2020-12-02 15:06:29.11064 2020-12-02 15:06:29.11064 <p>Notes:</p> <ul> <li>Id will be automatically given after saving layer edits. Do not modify.</li> <li>Code is the unique text identifier of the indicator. Please do not use spaces, accentuated characters or punctuation symbol.</li> <li>Label is the display name</li> <li>Date format is the temporal resolution of the data which will be imported for this indicator.   Please choose with care, depending on the source data and the information you would like to create from it.</li> <li>Category The optionnal category of the indicator. You can type some letters to search among the existing values.   If you need to enter a new category, write it down.</li> <li> <p>The Paths can be used to define an oriented graph which will help the future users   to find the indicator among many.</p> <ul> <li>separated words or expressions with a coma <code>,</code> will define a list of nodes.   For example, <code>Environment, Agriculture</code> will define two independant nodes <code>Environment</code> and <code>Agriculture</code></li> <li>separated keywords with a  slash <code>/</code> will also define nodes, but also parent to child relations.   For example, <code>Environment / Water / Analyses</code> will create 3 nodes <code>Environment</code>, <code>Water</code> and <code>Analyses</code>.   <code>Environment</code> is the parent of <code>Water</code>, which is the parent of <code>Analyses</code></li> <li>You can combine them, for example   <code>Environment / Water / Analyses, Environment / Water / Resources, Agriculture / Resources</code>   will lead to the following graph:</li> </ul> <p></p> </li> <li> <p>The creation &amp; update timestamps are automatically calculated when data is saved.</p> </li> </ul>"},{"location":"admin-guide/#dimension","title":"dimension","text":"<p>Each indicator can have one or more dimensions. You can add one item in the table <code>dimension</code> linked to the chosen indicator.</p> <p>Example content</p> id fk_id_indicator di_code di_label di_type di_unit 1 1 pluviometry Hourly pluviometry real mm 2 2 population_m Population (men) integer ind 2 2 population_w Population  (women) integer ind <p>For example, if the indicator has two dimensions to store weather data: temperature &amp; hygrometry, you could use:</p> <ul> <li>Code: Code of the dimension. Please do not use spaces, accentuated characters or punctuation symbol</li> </ul> Value temperature hygrometry <ul> <li>Label: Label of the dimension. You can use any necessary characters</li> </ul> Value Temp\u00e9rature Hygrom\u00e9trie <ul> <li>Type: data type. You must choose among: <code>text</code>, <code>integer</code>, <code>real</code>, <code>date</code>, <code>timestamp</code>, <code>boolean</code></li> </ul> Value real integer <ul> <li>Unit: Unit of the dimension. You can use any text.</li> </ul> Value \u00b0C %"},{"location":"admin-guide/#protocol","title":"protocol","text":"<p>Example content</p> id pr_code pr_label pr_description 1 cirad-pluviometry Pluviometry Measure of rainfall in mm 2 cirad-population Population Number of inhabitants obtained from census. <p>Notes:</p> <ul> <li>Id will be automatically given after saving layer edits. Do not modify.</li> <li>All fields are mandatory</li> <li>Label will be used as the display name.</li> <li>Code is a unique text identifier for the protocol.   Please do not use spaces, accentuated characters or punctuation symbol</li> <li>Description allows to enter multiple lines to describe the protocol.</li> </ul>"},{"location":"admin-guide/#series","title":"series","text":"<p>Example content</p> id fk_id_protocol fk_id_actor fk_id_indicator fk_id_spatial_layer 1 1 2 1 1 2 2 2 2 2 <p>Notes:</p> <ul> <li>Id will be automatically given after saving layer edits. Do not modify.</li> <li>All fields are mandatory</li> <li>A series is caracterized by a protocol, an actor, an indicator and a spatial layer.   You must have created needed items beforehand in the corresponding layers   (and save those layers edits) before creating the series.</li> </ul>"},{"location":"admin-guide/#project","title":"project","text":"<p>Example content</p> <p>TODO</p> <p>Notes:</p> <ul> <li>Id will be automatically given after saving layer edits. Do not modify.</li> <li>TODO</li> </ul>"},{"location":"admin-guide/#project_view","title":"project_view","text":"<p>Example content</p> <p>TODO</p> <p>Notes:</p> <ul> <li>Id will be automatically given after saving layer edits. Do not modify.</li> <li>TODO</li> </ul>"},{"location":"concepts/","title":"G-Obs presentation","text":"<p>Old concept in French</p>"},{"location":"concepts/#glossary","title":"Glossary","text":""},{"location":"concepts/#actor","title":"Actor","text":"<p>Person or legal person belonging to one actor category and allowed to take on several roles in the observation/action loop.</p> <p>It has a name, an email address, a contact person.</p>"},{"location":"concepts/#actor-category","title":"Actor category","text":"<p>A group of actors sharing the same social status (ex: administrations, NGO, etc.)</p>"},{"location":"concepts/#spatial-object","title":"Spatial object","text":"<p>A geo-referenced entity characterized by a type of geometry (point, line, polygon) and a coordinate system, and which coincides with a geometry at each time stamp.</p> <ul> <li>In the case of fixed spatial objects, the geometry remains unchanged (ex: village boundaries are fixed multi polygon)</li> <li>Otherwise it varies along time<ul> <li>ex 1: sand track = polyline varying along time</li> <li>ex 2: ship = polygon moving along time.</li> </ul> </li> </ul>"},{"location":"concepts/#spatial-layer","title":"Spatial layer","text":"<p>A group of spatial objects produced by a given actor and sharing the same coordinate system.</p> <p>It has a code, a name, a description.</p>"},{"location":"concepts/#protocol","title":"Protocol","text":"<p>Observation method for scientific purpose.</p> <p>It has a code, a name, a description, and bibliographic references.</p>"},{"location":"concepts/#indicator","title":"Indicator","text":"<p>Abstraction of observation series for decision-making purposes.</p> <p>It has a name, a definition, a type of geometry, a granularity and a frequency.</p> <p>It may correspond to several series obeying different protocols only if these protocols are close enough to keep the semantics of the indicator with respect to decision. For example, a more precise temperature sensor replaces an old one, with the same spatial granularity and acquisition frequencies.</p>"},{"location":"concepts/#data-series","title":"Data series","text":"<p>Set of observations ruled by the same protocol, linked to the same indicator and the same spatial layer, and produced by the same actor.</p> <p>It is possible to produce a data series by combining several data series: the protocol of the new series embeds the combination formula.</p>"},{"location":"concepts/#observation-data","title":"Observation\u00a0/ Data","text":"<p>Element of a series characterized by the observation context (spatial object, date) and the observed values for a set of observation dimensions.</p>"},{"location":"concepts/#observation-dimensions","title":"Observation dimensions","text":"<p>For example, if we wish to record inside a single observation a quantity of men and a quantity of women, there are two dimensions: nb of men and nb of women.</p> <p>Each dimension has a label (ex: nb of women), a type (ex: integer), a unit (ex: person), an alias (ex: population of women).</p>"},{"location":"concepts/#import-dataset","title":"Import dataset","text":"<p>A physical set of observations aimed at feeding a given series.</p> <p>It has a code.</p> <p>Its structure must match the structure of the target data series.</p>"},{"location":"concepts/#informational-service","title":"Informational service","text":"<p>A representation usable by actors for information or decision-making purposes.</p> <p>It aggregates and transforms heterogeneous data series.</p> <p>It is the role of the informational service administrator to administrate information services.</p>"},{"location":"concepts/#projects","title":"Projects","text":"<p>A project allows grouping some indicators for a dedicated purpose. It is defined by a code, a label, a description. It may contain a list of spatial layers as a support for the data.</p>"},{"location":"concepts/#project-views","title":"Project views","text":"<p>A project can be accessed differently depending on the user rights. For example, the same indicator data can be edited and visible only in specific areas.</p> <p>A project view is basically a way to filter the project data for a user based on its restricted access to a subset of a spatial layer objects (polygons).</p>"},{"location":"concepts/#software-function","title":"Software function","text":"<p>Part of a software in charge of a numeric transformation.</p>"},{"location":"concepts/#roles-in-the-observationaction-loop","title":"Roles in the observation/action loop","text":"<p>An actor may play several roles, among:</p> <ul> <li>Data producer,</li> <li>informational service producer,</li> <li>informational service administrator,</li> <li>informational service receiver/consumer.</li> </ul> <p>According to these roles, an actor has access to informational services and/or software functions.</p>"},{"location":"concepts/#examples","title":"Examples","text":""},{"location":"concepts/#pluviometry-collected-on-meteorological-stations","title":"Pluviometry collected on meteorological stations","text":"<p>Source data:</p> <ul> <li>pluviometers: sites equipped with pluviometers to measure rainfalls, defined by a code, a name and a position (point)</li> <li>pluviometry: hourly rainfall pluviometry in millimetre, obtained by measuring the height of water in the pluviometers every hour.</li> </ul>"},{"location":"concepts/#population-of-cities","title":"Population of cities","text":"<p>Source data:</p> <ul> <li>Cities of Brittany, France: defined by a code, a name and a polygon</li> <li>Population: Number of inhabitants for city, obtained from annual census.</li> </ul>"},{"location":"concepts/old-french-doc/","title":"Documentation","text":""},{"location":"concepts/old-french-doc/#introduction","title":"Introduction","text":"<p>Le projet s'appelle G-Obs.</p>"},{"location":"concepts/old-french-doc/#dictionnaire-des-concepts","title":"Dictionnaire des concepts","text":""},{"location":"concepts/old-french-doc/#entite-spatiale","title":"Entit\u00e9 spatiale","text":"<p>Un objet d\u00e9fini par une g\u00e9om\u00e9trie et un identifiant unique. La g\u00e9om\u00e9trie peut \u00eatre variable dans le temps (ex: Piste). Elle est caract\u00e9ris\u00e9e par son type (Point, ligne, polygone, etc.), son syst\u00e8me de coordonn\u00e9es de r\u00e9f\u00e9rence.</p>"},{"location":"concepts/old-french-doc/#couche-spatiale","title":"Couche spatiale","text":"<p>Un regroupement d'entit\u00e9s spatiales conceptuellement ou techniquement homog\u00e8ne, caract\u00e9ris\u00e9 par un nom et une source</p>"},{"location":"concepts/old-french-doc/#observation","title":"Observation","text":"<p>Une donn\u00e9e caract\u00e9ris\u00e9e par un nom d'observable, une entit\u00e9 spatiale, une date, une ou des valeurs, une source ou le code du jeu de donn\u00e9es qui la contient.</p>"},{"location":"concepts/old-french-doc/#valeurs-observees","title":"Valeurs observ\u00e9es","text":"<p>Nous appelons valeurs les dimensions du vecteur qui porte les donn\u00e9es d'observations.</p> <p>Par exemple, si on souhaite enregistrer dans un vecteur la population des hommes et la population des femmes, le vecteur contiendra 2 valeurs \"population_homme\" et \"population_femme\". Dans la plupart des cas simples, le vecteur ne contiendra qu'une seule valeur (ex: \"pluviometrie\").</p> <p>Chaque valeur est caract\u00e9ris\u00e9e par un nom (ex: \"pluviometrie\", un type (ex: \"integer\"), une unit\u00e9 (ex: \"mm\"), un alias (ex: \"Pluviom\u00e9trie journali\u00e8re\")</p>"},{"location":"concepts/old-french-doc/#protocole","title":"Protocole","text":"<p>M\u00e9thode de recueil d'une s\u00e9rie d'observations en vue d'une exploitation scientifique. Il est caract\u00e9ris\u00e9 un code, un nom, une description, des r\u00e9f\u00e9rences bibliographiques.</p>"},{"location":"concepts/old-french-doc/#reference-bibliographique","title":"R\u00e9f\u00e9rence bibliographique","text":"<p>Document caract\u00e9ris\u00e9 par un type, un nom, une description, une URL</p>"},{"location":"concepts/old-french-doc/#serie-dobservations","title":"S\u00e9rie d'observations","text":"<p>Un ensemble d'observations ob\u00e9issant au m\u00eame protocole. Si le protocole \u00e9volue, on doit cr\u00e9er une nouvelle s\u00e9rie d'observations, qui se rattache au nouveau protocole. On garde ainsi un historique qui est important pour la validation scientifique.</p> <p>Chaque s\u00e9rie est caract\u00e9ris\u00e9e par une source (acteur) et attach\u00e9e \u00e0 une couche spatiale. Si la couche spatiale \u00e9volue (ex: Communes fusionn\u00e9es, ou pluviom\u00e8tre rajout\u00e9 ou d\u00e9plac\u00e9), il faut cr\u00e9er une nouvelle couche spatiale et une nouvelle s\u00e9rie li\u00e9e.</p> <ul> <li>Exemple des banquettes en Tunisie: on cr\u00e9e une couche spatiale par an</li> <li>Exemple de suvi de d\u00e9placement de moutons: chaque mouton a un code unique et est r\u00e9f\u00e9renc\u00e9 par un ou plusieurs objets spatiaux. Son vrai identifiant est le couple so_unique_id et geom. Pour suivre l'\u00e9volution du d\u00e9placement de chaque mouton, on a donc plusieurs observations caract\u00e9ris\u00e9es chacune par un objet spatial diff\u00e9rent. Si on avait d'autres donn\u00e9es que la position GPS disponibles, on pourrait les ajouter dans la valeur de l'observation, par exemple le rythme cardiaque pour l'observation. Dans ce cas d'objets mobiles (ou de g\u00e9om\u00e9tries variables telles que des zonages), il n'est pas utile de cr\u00e9er une nouvelle s\u00e9rie \u00e0 chaque ajout ou modification de g\u00e9om\u00e9trie dans la couche spatiale.</li> </ul>"},{"location":"concepts/old-french-doc/#jeu-de-donnees","title":"Jeu de donn\u00e9es","text":"<p>Un ensemble physique d'observations appartenant \u00e0 la m\u00eame s\u00e9rie. En pratique, le terme est utilis\u00e9 pour pr\u00e9senter un paquet de donn\u00e9es pr\u00e9sent\u00e9 \u00e0 un gestionnaire de donn\u00e9es. Il est caract\u00e9ris\u00e9 par un code, une source. Cela peut \u00eatre sous la forme d'un fichier excel par exemple.</p> <p>Au moment de l'import, le gestionnaire de donn\u00e9e va devoir choisir le jeu de donn\u00e9es \u00e0 importer (fichier tableur, CSV, etc.) et le rattacher \u00e0 une s\u00e9rie existante ou \u00e0 cr\u00e9er.</p> <p>Les jeux de donn\u00e9es source ne seront pas enregistr\u00e9s ni conserv\u00e9s dans le syst\u00e8me d'information apr\u00e8s import et conversion en observations.</p>"},{"location":"concepts/old-french-doc/#acteur","title":"Acteur","text":"<p>Un organisme ou une personne capable de produire des observations (source), d'agir dans un territoire, de signer une charte dans le cadre d'une action collective. Il fournit les jeux de donn\u00e9es au gestionnaire de donn\u00e9es qui pourra les transformer en observations.</p> <p>Il peut aussi valider les observations apr\u00e8s avoir eu acc\u00e8s aux observations sous forme de services informationnels (cartes Lizmap).</p> <p>Il est caract\u00e9ris\u00e9 par un nom, un email, une personne contact, une cat\u00e9gorie</p>"},{"location":"concepts/old-french-doc/#categorie-dacteurs","title":"Cat\u00e9gorie d'acteurs","text":"<p>Regroupement d'acteurs ayant les m\u00eames besoins en information. Ces cat\u00e9gories (ou \"groupes\") sont utilis\u00e9es par G-Obs pour d\u00e9terminer les services informationels \u00e0 disposition de l'acteur.</p>"},{"location":"concepts/old-french-doc/#gestionnaire-de-donnees","title":"Gestionnaire de donn\u00e9es","text":"<p>Il r\u00e9colte et centralise les jeux de donn\u00e9es fournis par les acteurs. C'est lui qui importe les donn\u00e9es dans le syst\u00e8me.</p>"},{"location":"concepts/old-french-doc/#indicateur","title":"Indicateur","text":"<p>Un regroupement de donn\u00e9es d'observation dans un but d'aide \u00e0 la d\u00e9cision. Il est caract\u00e9ris\u00e9 par un nom, une d\u00e9finition, un type d'entit\u00e9 spatiale, une granularit\u00e9 et une fr\u00e9quence temporelle.</p> <p>L'indicateur peut regrouper une seule s\u00e9rie d'observations. Il peut aussi \u00eatre utilis\u00e9 pour regrouper plusieurs s\u00e9ries ob\u00e9issant \u00e0 des protocoles diff\u00e9rents mais suffisamment voisins pour ne pas changer la s\u00e9mantique de l'indicateur. Par exemple, on a remplac\u00e9 un capteur de temp\u00e9rature par un nouveau syst\u00e8me plus pr\u00e9cis, mais on a conserv\u00e9 les fr\u00e9quences d'acquisition, les sites de mesure, etc.</p> <p>L'indicateur permet aussi de rassembler des donn\u00e9es observ\u00e9es sur des sites ou des terrains diff\u00e9rents.</p> <p>Si on souhaite utiliser des donn\u00e9es de plusieurs s\u00e9ries pour les combiner et cr\u00e9er une nouvelle donn\u00e9e, on devra passer par la cr\u00e9ation d'un nouvelle s\u00e9rie de donn\u00e9es dont le nouveau protocole contiendra la formule de calcul. C'est l'acteur source qui fera ce travail de cr\u00e9ation de la nouvelle s\u00e9rie.</p>"},{"location":"concepts/old-french-doc/#chemins-dacces","title":"Chemins d'acc\u00e8s","text":"<p>Pour faciliter la navigation et le choix parmi les indicateurs, on rattache \u00e0 chaque indicateur un ou plusieurs chemins d'acc\u00e8s. Un chemin se caract\u00e9rise par une suite ordonn\u00e9e de mots-cl\u00e9s pr\u00e9cisant progressivement la th\u00e9matique puis l'indicateur.</p> <p>Par exemple, pour acc\u00e9der \u00e0 l'indicateur \"Pluviom\u00e9trie\", deux chemins sont possibles</p> <ul> <li>Environnement / Changement climatique / Pluviom\u00e9trie</li> <li>Gestion de l'eau / Pluviom\u00e9trie</li> </ul> <p>On formalise le stockage des chemins d'acc\u00e8s via un graphe orient\u00e9 en \u00e9vitant les boucles.</p> <p>C'est le gestionnaire de donn\u00e9es qui a la ma\u00eetrise totale sur le graphe, car il est responsable de la cr\u00e9ation des indicateurs.</p>"},{"location":"concepts/old-french-doc/#service-informationnel","title":"Service informationnel","text":"<p>Un service de pr\u00e9sentation d'indicateurs qui r\u00e9pond aux besoins et aux pr\u00e9f\u00e9rences d'une cat\u00e9gorie d'acteur en vue d'une aide \u00e0 la d\u00e9cision. Par exemple des graphiques, des cartes th\u00e9matiques.</p> <p>Par exemple, un projet QGIS publi\u00e9 vers une carte Web peut \u00eatre ici le sujet de la gestion des droits.</p> <p>Un outil d'importation est aussi un service informationnel, car il r\u00e9pond aux besoins d'administration des donn\u00e9es, et doit \u00eatre restreint \u00e0 des groupes d'utilisateurs.</p> <p>La construction d'un service informationnel (par exemple un projet QGIS) est aussi un service informationnel, \u00e0 destination des g\u00e9omaticiens.</p>"},{"location":"concepts/old-french-doc/#modele-physique-des-donnees","title":"Mod\u00e8le physique des donn\u00e9es","text":"<p>Voir la documentation de la base</p>"},{"location":"concepts/old-french-doc/#scenarios-dutilisation","title":"Sc\u00e9narios d'utilisation","text":"<p>On d\u00e9crit dans ce chapitre les \u00e9tapes essentielles \u00e0 la publication de services informationnels. Chaque \u00e9tape peut \u00eatre conduite par des personnes diff\u00e9rentes selon leur r\u00f4le dans la mise en oeuvre.</p>"},{"location":"concepts/old-french-doc/#administration-des-donnees","title":"Administration des donn\u00e9es","text":"<p>Cette \u00e9tape doit \u00eatre r\u00e9alis\u00e9e avant l'import, en amont, pour pr\u00e9parer l'accueil des donn\u00e9es. C'est le r\u00f4le de l'administrateur de donn\u00e9es. Elle consiste \u00e0 nourrir le mod\u00e8le de donn\u00e9es:</p> <ul> <li>Description des acteurs, cat\u00e9gories d'acteurs</li> <li>Description des protocoles</li> <li>Description s\u00e9ries d'observations</li> <li>Description des indicateurs</li> <li>Description des couches spatiales</li> </ul> <p>Voir MCD ci-dessus.</p>"},{"location":"concepts/old-french-doc/#gestion-des-donnees","title":"Gestion des donn\u00e9es","text":"<p>C'est le r\u00f4le du gestionnaire de donn\u00e9es. Cette \u00e9tape consiste \u00e0:</p> <ul> <li>choisir les jeux de donn\u00e9es \u00e0 importer (feuille Excel, fichier CSV, etc.) et les couches spatiales de r\u00e9f\u00e9rence.</li> <li>rattacher ces donn\u00e9es \u00e0 la s\u00e9rie d'observations et \u00e0 un acteur (fournisseur du jeu de donn\u00e9es). Si la s\u00e9rie n'existe pas, il faut faire appel \u00e0 l'administrateur pour la cr\u00e9er ainsi que les donn\u00e9es li\u00e9es (protocole, acteur, etc.)</li> <li>transf\u00e9rer des donn\u00e9es spatiales d'une ou plusieurs couches (r\u00e9f\u00e9rentiels spatiaux sur lesquels se rattachent les donn\u00e9es d'observation). Le transfert consiste \u00e0 envoyer les donn\u00e9es vers le serveur de base de donn\u00e9es.</li> <li>importer les donn\u00e9es d'observation en pr\u00e9cisant le lien \u00e0 la couche spatiale. Il devra aussi valider le lien entre les composantes de la source (champs) et les composantes de la cible (dimensions du vecteur). Par exemple, dans le jeu de donn\u00e9es \u00e0 importer, il dispose de 2 champs f_pop et h_pop, qu'il devra relier aux dimensions population_homme et population_femme de la valeur de l'indicateur.</li> </ul> <p>Un journal d'import est automatiquement rempli \u00e0 chaqe import d'un jeu de donn\u00e9es. Il est caract\u00e9ris\u00e9 par une date, un acteur, une s\u00e9rie d'observations et un statut de validation: import en attente de validation / import valid\u00e9. Chaque observation est rattach\u00e9e \u00e0 un code d'import.</p> <p>Lors de l'import, le gestionnaire (ou l'outil) doit v\u00e9rifier que toutes les donn\u00e9es du jeu de donn\u00e9es ont une correspondance aux objets spatiaux de la couche spatiale d\u00e9finie. Si non, l'import est invalid\u00e9.</p> <p>Lors de la cr\u00e9ation de cet import, un message est envoy\u00e9 \u00e0 l'acteur, avec un lien vers un service informationnel qui lui permet de visualiser les donn\u00e9es import\u00e9es (l'outil choisit la premi\u00e8re carte accessible). Il se connecte en tant qu'acteur dans l'application de visualisation (Lizmap). Il peut alors appliquer un filtre sur les donn\u00e9es pour ne voir que les donn\u00e9es de l'import \u00e0 valider.</p> <p>Apr\u00e8s v\u00e9rification, il peut valider l'import via un \u00e9l\u00e9ment d'interface.</p> <p>Les donn\u00e9es non valid\u00e9es ne sont visibles que pour certains groupes d'utilisateurs (acteurs fournisseurs de donn\u00e9es, gestionnaires et administrateurs). Les autres utilisateurs ne voient que les donn\u00e9es valid\u00e9es.</p> <p>Le gestionnaire de donn\u00e9es peut ajouter des donn\u00e9es. Il peut r\u00e9importer un jeu de donn\u00e9e am\u00e9lior\u00e9 par l'acteur, ce qui \u00e9crase les donn\u00e9es non valid\u00e9es. On s'appuie sur l'objet spatial, le vecteur, la date et la s\u00e9rie d'observation pour g\u00e9rer cette contrainte d'unicit\u00e9 de chaque observation (identifiant). L'outil g\u00e8re automatiquement les diff\u00e9rents cas:</p> <ul> <li>Si l'observation existe d\u00e9j\u00e0 et a \u00e9t\u00e9 valid\u00e9e : pas d'\u00e9crasement.</li> <li>Si l'observaton n'existe pas, elle est ajout\u00e9e, a le statut par d\u00e9faut (non valid\u00e9e)</li> <li>Si l'observation existe et qu'elle n'est pas valid\u00e9e, elle est \u00e9cras\u00e9e par la nouvelle.</li> <li>Pour pouvoir supprimer des donn\u00e9es, il faut permettre de g\u00e9rer un champ \"a supprimer\" ou une valeur \"delete\" ou \"-1\" qui permet de supprimer les donn\u00e9es d'observation de mani\u00e8re contr\u00f4l\u00e9e. Ajouter les UUID des observatoins supprm\u00e9es dans une table de log. Le gestionnaire des donn\u00e9es peut facilement conna\u00eetre les donn\u00e9es import\u00e9es dans la base non valid\u00e9es, et ainsi contacter si besoin ou supprimer les donn\u00e9es apr\u00e8s accord.</li> </ul>"},{"location":"concepts/old-french-doc/#creation-dun-service-informationnel","title":"Cr\u00e9ation d'un service informationnel","text":"<p>Cela correspond par exemple \u00e0 la cr\u00e9ation d'un projet QGIS, et \u00e0 sa publication dans Lizmap.</p> <p>Toutes les sources des s\u00e9ries d'observations utilis\u00e9es dans le projet QGIS sont visibles par les utilisateurs \u00e0 qui on a donn\u00e9 le droit (outil de gestion des groupes d'utilisateurs)</p>"},{"location":"concepts/old-french-doc/#outils-et-traitements","title":"Outils et traitements","text":""},{"location":"concepts/old-french-doc/#administration-des-donnees_1","title":"Administration des donn\u00e9es","text":"<p>Il s'agit:</p> <ul> <li>de cr\u00e9er le vocabulaire, de lister les acteurs, les protocoles, le catalogue de couches, les s\u00e9ries d'observations et indicateurs, pour un observatoire.</li> <li>de g\u00e9rer les droits d'acc\u00e8s selon les cat\u00e9gories d'utilisateurs</li> </ul> <p>On utilise les capacit\u00e9s de QGIS \u00e0 produire des outils de saisie riches via des formulaires. Les relations entre couches permettent de lier les donn\u00e9es entre elles.</p>"},{"location":"concepts/old-french-doc/#gestion-des-donnees_1","title":"Gestion des donn\u00e9es","text":"<p>Il s'agit d'importer les donn\u00e9es d'observation dans le syst\u00e8me \u00e0 partir des jeux de donn\u00e9es fournis par les acteurs. On passe des donn\u00e9es source aux indicateurs, via un travail de consolidation et d'homog\u00e9n\u00e9isation de la donn\u00e9e.</p> <p>Liste:</p> <ul> <li>Voir la liste des couches spatiales</li> <li>Voir les relations entre les couches et les indicateurs (comment est faite la jointure)</li> <li>Import d'une couche spatiale</li> <li>Import d'un jeu de donn\u00e9es</li> <li>Tableau de bord qui permet de chercher les observations (voir Extraction des donn\u00e9es ci-dessous)</li> </ul> <p>Notes:</p> <ul> <li>Ce n'est pas au gestionnaire de donn\u00e9es de faire la jointure spatiale entre couche spatiale et indicateur, car elle a \u00e9t\u00e9 pens\u00e9e en amont et d\u00e9crite par l'administrateur de donn\u00e9es. Le gestionnaire doit simplement alimenter les indicateurs.</li> <li>Le gestionnaire peut voir l'ensemble des donn\u00e9es d\u00e9crites par l'administrateur, sans pouvoir les modifier. Cela lui permet de conna\u00eetre les listes d'acteur, d'indicateur, de couches spatiales, etc.</li> </ul>"},{"location":"concepts/old-french-doc/#exploration-des-donnees","title":"Exploration des donn\u00e9es","text":"<p>Il s'agit d'avoir un \u00e9tat de la connaissance des donn\u00e9es du syst\u00e8me.</p> <p>On permet \u00e0 l'administrateur, au gestionnaire de r\u00e9cup\u00e9rer des informations sur les indicateurs correspondant aux filtres de recherche suivants:</p> <ul> <li>temporel : dans un intervalle de date (ou par exemple \"le mois dernier\")</li> <li>spatial : dans un rectangle d'emprise ou dans une couche de type polygone</li> <li>indicateur(s)</li> <li>acteur(s) source</li> </ul> <p>Une fois le ou les filtres sp\u00e9cifi\u00e9, on lance la recherche. Les r\u00e9sultats sont affich\u00e9s sous la forme d'un tableau pr\u00e9sentant une ligne par indicateur</p> <ul> <li>le nom de l'indicateur</li> <li>la couche spatiale</li> <li>les acteurs source</li> <li>le nombre total d'observations</li> <li>les dates minimum et maximum des observations</li> <li>la date de dernier import</li> <li>les chemins d'acc\u00e8s</li> <li>les services informationnels qui r\u00e9f\u00e9rencent l'indicateur (lien direct vers la carte)</li> <li>un bouton pour charger la couche spatiale</li> <li>un bouton pour charger les donn\u00e9es dans l'outil de visualisation</li> </ul>"},{"location":"concepts/old-french-doc/#representation-des-donnees","title":"Repr\u00e9sentation des donn\u00e9es","text":"<p>Il s'agit de r\u00e9cup\u00e9rer les informations depuis le syst\u00e8me dans un format exploitable par les outils bureautique et g\u00e9omatiques ( Tableur, QGIS et Lizmap ), afin de cr\u00e9er des mod\u00e8les de repr\u00e9sentation au pilotage de l'action collective: cartes, graphiques, tableaux, etc.</p> <p>Le g\u00e9omaticien peut r\u00e9cup\u00e9rer les donn\u00e9es converties au format SIG ou tableur via un outil qui pr\u00e9sente les filtres de recherche suivants:</p> <ul> <li>choix de l'indicateur</li> <li>filtre spatial : dans un rectangle d'emprise ou dans une couche vectorielle de type polygone pr\u00e9sente dans QGIS</li> <li>filtre temporel : dans un intervalle de date (ou par exemple \"le mois dernier\")</li> </ul> <p>Il lance la recherche, qui lui pr\u00e9sente un tableau synth\u00e9tique sur les donn\u00e9es filtr\u00e9e de l'indicateur (\u00e9quivalent \u00e0 l'explorateur d\u00e9crit au chapitre pr\u00e9c\u00e9dent)</p> <ul> <li>le nom de l'indicateur</li> <li>la couche spatiale</li> <li>les acteurs source</li> <li>le nombre total d'observations</li> <li>les dates minimum et maximum des observations</li> <li>la date de dernier import</li> <li>les chemins d'acc\u00e8s</li> <li>les services informationnels qui r\u00e9f\u00e9rencent l'indicateur (lien direct vers la carte)</li> <li>un bouton pour charger la couche spatiale</li> <li>un bouton pour charger les donn\u00e9es</li> </ul> <p>Les options suivantes sont pr\u00e9sent\u00e9es pour faciliter le chargement des donn\u00e9es:</p> <ul> <li> <p>charger les donn\u00e9es brutes : cela ajoute dans QGIS une couche non spatiale contenant les donn\u00e9es de l'indicateur avec le champ de jointure. Une relation est automatiquement cr\u00e9\u00e9e dans le projet QGIS entre la couche spatiale charg\u00e9e pr\u00e9c\u00e9demment et les donn\u00e9es brutes.</p> </li> <li> <p>charger les donn\u00e9es d'indicateur aggr\u00e9g\u00e9es par un \u00e0 plusieurs crit\u00e8res:</p> </li> <li> <p>\u00e0 l'unit\u00e9 temporelle : minute, heure, journ\u00e9e, mois, ann\u00e9e (par exemple, 36 lignes avec la somme des hauteurs d'eau par mois entre 2016 et 2018)</p> </li> <li>\u00e0 l'unit\u00e9 temporelle unique. Par exemple, la moyenne des hauteurs d'eau tomb\u00e9es pour chacun des 12 mois, toutes ann\u00e9es confondues</li> <li>\u00e0 l'objet spatial de la couche de r\u00e9f\u00e9rence. Par exemple, une ligne par pluviom\u00e8tre avec la somme des hauteurs d'eau</li> <li>choix de la fonction de calcul : d\u00e9compte, somme, moyenne, minimum, maximum, m\u00e9diane</li> </ul> <p>Les couches r\u00e9sultantes sont g\u00e9n\u00e9r\u00e9es par l'outil, en se basant sur des requ\u00eates SQL. Les donn\u00e9es sont donc affich\u00e9es dynamiquement, sans avoir besoin de les rafra\u00eechir \u00e0 chaque nouvel import.</p> <p>Chaque requ\u00eate est repr\u00e9sent\u00e9e comme une couche stock\u00e9e dans QGIS, qui pourra \u00eare publi\u00e9 comme un service informationnel avec des droits diff\u00e9rents que les droits de la donn\u00e9e brute.</p> <p>Le g\u00e9omaticien doit lier le projet QGIS qui porte les modes de repr\u00e9sentations au service informationnel pr\u00e9sent dans le syst\u00e8me (cr\u00e9\u00e9 en amont par l'administrateur de donn\u00e9es).</p>"},{"location":"concepts/old-french-doc/#publication-des-si","title":"Publication des SI","text":"<p>Il s'agit de proposer un acc\u00e8s web aux services informationnels qui peuvent int\u00e9grer plusieurs mod\u00e8les de repr\u00e9sentation pour diff\u00e9rents indicateurs.</p>"},{"location":"concepts/old-french-doc/#interfaces","title":"Interfaces","text":""},{"location":"concepts/old-french-doc/#lizmap","title":"Lizmap","text":""},{"location":"concepts/old-french-doc/#page-daccueil","title":"Page d'accueil","text":"<p>Points importants:</p> <ul> <li>Une interface qui s'adapte aux \u00e9crans de diff\u00e9rentes tailes (\"responsive design\")</li> <li>Chaque service informationnel est comme une petite application qui d\u00e9livre de l'information (un \u00e0 plusieurs indicateurs). On propose l'analogie avec la liste des applications pr\u00e9sente sur un smartphone.</li> <li>La page d'accueil pr\u00e9sente une liste des services informationnels, repr\u00e9sent\u00e9s par une image. Un clic sur cette image lance l'affichage de la carte.</li> <li> <p>La pr\u00e9sentation de cette liste est param\u00e9trable, avec un choix de l'ordre des pr\u00e9sentations des services informationnels:</p> </li> <li> <p>mise \u00e0 jour de la donn\u00e9e la plus r\u00e9cente en premier</p> </li> <li>ordre alphab\u00e9tique</li> <li>affichage des nouveaux services informationnels en premier</li> </ul> <p>L'utilisateur peut filtrer les services informationnels affich\u00e9s via les chemins d'acc\u00e8s. Pour cela, on lui pr\u00e9sente un outil de recherche avec une autocompl\u00e9tion, qui lui permet de parcourir les mots-cl\u00e9 des chemins d'acc\u00e8s.</p> <pre><code>[ champ de recherche ] [ param\u00e8tre de tri ]\n**1ER NOEUD SELECTIONNE**\n**FILS DU 1ER NOEUD SELECTIONNE**\n*Petit fils A s\u00e9lectionnable*\n*Petit fils B s\u00e9lectionnable* -&gt; idem\n*Petit fils C s\u00e9lectionnable* -&gt; idem\n\nAffichage filtr\u00e9 des services informationnels\n[ SI 1\u00a0] [ SI 2 ] [ SI 3\u00a0] [ SI 4 ]\n[ SI 5\u00a0] [ SI 6 ] [ SI 7\u00a0] [ SI 8 ]\n[ SI 9\u00a0] [ SI10 ] [ SI11\u00a0] [ SI12 ]\n[ SI13\u00a0] [ SI14 ] ...\n</code></pre> <p>A l'arriv\u00e9e sur la page d'accueil:</p> <ul> <li>l'utilisateur voit le champ de filtre vide, avec la mention \"Taper votre recherche\". On active l'autocompl\u00e9tion.</li> <li> <p>Sous le champ de filtre, on pr\u00e9sente les premiers noeuds fils (mots-cl\u00e9s). Par exemple:</p> <p>Eau Qualit\u00e9 Gouvernance</p> </li> </ul> <p>Lorsque l'utilisateur clique sur un des fils, celui-ci passe en mode \"s\u00e9lectionn\u00e9\" (par exemple en gras avec un fond de couleur). Sur s\u00e9lection de ce mot-cl\u00e9, on pr\u00e9sente directement en dessous les fils directs, en mode \"s\u00e9lectionnable\" (par exemple en italique et avec un fond clair)</p> <p>Le champs de filtre pr\u00e9sente via une autocompl\u00e9tion l'ensemble des fils directs du dernier noeud s\u00e9lectionn\u00e9. A l'arriv\u00e9e, on peut donc chercher directement un fils \u00e9loign\u00e9.</p> <p>On pourra adapter la disposition des noeuds s\u00e9lectionn\u00e9s en mode horizontal (fils d'ariane) pour les \u00e9crans larges, et en mode vertical avec les mots-cl\u00e9 empil\u00e9s sur les petits \u00e9crans.</p> <p>TODO</p> <ul> <li>renommer le series.fk_id_actor en series.fk_id_actor_observer</li> <li>ajouter un champ import.fk_id_actor_import pour pr\u00e9ciser quel acteur a import\u00e9 le jeu de donn\u00e9es (gestionnaire de donn\u00e9e par exemple)</li> </ul>"},{"location":"processing/","title":"Traitements","text":"<ul> <li>G-Obs<ul> <li>Configuration<ul> <li>Configure G-Obs plugin<ul> <li>Parameters</li> <li>Outputs</li> </ul> </li> </ul> </li> <li>Administration<ul> <li>Create database local interface<ul> <li>Parameters</li> <li>Outputs</li> </ul> </li> </ul> </li> <li>Structure<ul> <li>Create database structure<ul> <li>Parameters</li> <li>Outputs</li> </ul> </li> <li>Upgrade database structure<ul> <li>Parameters</li> <li>Outputs</li> </ul> </li> </ul> </li> <li>Tools<ul> <li>Get aggregated data<ul> <li>Parameters</li> <li>Outputs</li> </ul> </li> <li>Get series data<ul> <li>Parameters</li> <li>Outputs</li> </ul> </li> <li>Get the list of series<ul> <li>Parameters</li> <li>Outputs</li> </ul> </li> <li>Get spatial layer vector data<ul> <li>Parameters</li> <li>Outputs</li> </ul> </li> <li>Remove series data<ul> <li>Parameters</li> <li>Outputs</li> </ul> </li> <li>Remove spatial layer data<ul> <li>Parameters</li> <li>Outputs</li> </ul> </li> </ul> </li> <li>Import<ul> <li>Import spatial layer data<ul> <li>Parameters</li> <li>Outputs</li> </ul> </li> </ul> </li> </ul> </li> </ul>"},{"location":"processing/#g-obs","title":"G-Obs","text":""},{"location":"processing/#configuration","title":"Configuration","text":""},{"location":"processing/#configure-g-obs-plugin","title":"Configure G-Obs plugin","text":"<p>This algorithm will allow to configure G-Obs extension for the current QGIS project</p> <p>You must run this script before any other script.</p> <ul> <li>PostgreSQL connection to G-Obs database: name of the database connection you would like to use for the current QGIS project. This connection will be used for the other algorithms.</li> </ul> <p></p>"},{"location":"processing/#parameters","title":"Parameters","text":"ID Description Type Info Required Advanced Option CONNECTION_NAME PostgreSQL connection to G-Obs database String \u2713"},{"location":"processing/#outputs","title":"Outputs","text":"ID Description Type Info OUTPUT_STATUS Output status Number OUTPUT_STRING Output message String"},{"location":"processing/#administration","title":"Administration","text":""},{"location":"processing/#create-database-local-interface","title":"Create database local interface","text":"<p>This algorithm will create a new QGIS project file for G-Obs administration purpose.</p> <p>The generated QGIS project must then be opened by the administrator to create the needed metadata by using QGIS editing capabilities (actors, spatial layers information, indicators, etc.)</p> <ul> <li>PostgreSQL connection to G-Obs database: name of the database connection you would like to use for the new QGIS project.</li> <li>QGIS project file to create: choose the output file destination.</li> </ul> <p></p>"},{"location":"processing/#parameters_1","title":"Parameters","text":"ID Description Type Info Required Advanced Option CONNECTION_NAME PostgreSQL connection to G-Obs database String \u2713 PROJECT_FILE QGIS project file to create FileDestination \u2713"},{"location":"processing/#outputs_1","title":"Outputs","text":"ID Description Type Info PROJECT_FILE QGIS project file to create File OUTPUT_STATUS Output status Number OUTPUT_STRING Output message String"},{"location":"processing/#structure","title":"Structure","text":""},{"location":"processing/#create-database-structure","title":"Create database structure","text":"<p>Install the G-Obs database structure with tables and function on the chosen database.</p> <p>This script will add a gobs schema with needed tables and functions</p> <ul> <li>PostgreSQL connection to G-Obs database: name of the database connection you would like to use for the installation.</li> </ul> <p>Beware ! If you check the \"override\" checkboxes, you will loose all existing data in the existing gobs schema !</p> <p></p>"},{"location":"processing/#parameters_2","title":"Parameters","text":"ID Description Type Info Required Advanced Option CONNECTION_NAME PostgreSQL connection to G-Obs database String \u2713 OVERRIDE Overwrite schema gobs and all data ?  CAUTION  It will remove all existing data ! Boolean \u2713 ADD_TEST_DATA Add test data ? Boolean \u2713"},{"location":"processing/#outputs_2","title":"Outputs","text":"ID Description Type Info OUTPUT_STATUS Output status Number OUTPUT_STRING Output message String"},{"location":"processing/#upgrade-database-structure","title":"Upgrade database structure","text":"<p>Upgrade the G-Obs tables and functions in the chosen database.</p> <p>If you have upgraded your QGIS G-Obs plugin, you can run this script to upgrade your database to the new plugin version.</p> <ul> <li>PostgreSQL connection to G-Obs database: name of the database connection you would like to use for the upgrade.</li> </ul> <p></p>"},{"location":"processing/#parameters_3","title":"Parameters","text":"ID Description Type Info Required Advanced Option CONNECTION_NAME PostgreSQL connection to G-Obs database String \u2713 RUN_MIGRATIONS Check this box to upgrade. No action will be done otherwise Boolean \u2713"},{"location":"processing/#outputs_3","title":"Outputs","text":"ID Description Type Info OUTPUT_STATUS Output status Number OUTPUT_STRING Output message String"},{"location":"processing/#tools","title":"Tools","text":""},{"location":"processing/#get-aggregated-data","title":"Get aggregated data","text":"<p>This algorithm allows to add a table or vector layer in your QGIS project containing the aggregated observation data from the chosen G-Obs series. The aggregation is made depending of the user input. Data are dynamically fetched from the database, meaning they are always up-to-date. * Names of the output layer: choose the name of the QGIS layer to create. If not given, the label of the series of observations, as written in the series combo box. * Series of observations: the G-Obs series containing the observation data. * Add spatial object ID and label ? If checked, the output layer will have two more columns with the spatial layer unique identifiers (ID and label). * Add spatial object geometry ? If checked, the output layer will be a spatial QGIS vector layer, displayed in the map, and not a geometryless table layer. The result can show duplicated geometries, for observations defined by the same geometry at different dates or times. * Timestamp extraction resolution: choose the desired temporal resolution of the output. Aggregates will be calculated (sum, average, etc.) by grouping the source data by this temporal resolution. * Choose aggregate functions to use: you can choose between minimum (min), maximum (max), average (avg) and  sum. * Minimum observation timestamp: if you enter a valid ISO timestamp in this field, only observations with a timestamp after this value will be processed. * Maximum observation timestamp: if you enter a valid ISO timestamp in this field, only observations with a timestamp before this value will be processed.</p> <p></p>"},{"location":"processing/#parameters_4","title":"Parameters","text":"ID Description Type Info Required Advanced Option OUTPUT_LAYER_NAME Name of the output layer String SERIE Series of observations Enum \u2713 Values:   SERIE_ID Series ID. If given, it overrides previous choice Number \u2713 Default: -1  Type: Integer Min: -1.7976931348623157e+308, Max: 1.7976931348623157e+308  ADD_SPATIAL_OBJECT_DATA Add spatial object ID and label ? Boolean \u2713 Default: True  ADD_SPATIAL_OBJECT_GEOM Add spatial object geometry ? Boolean \u2713 TEMPORAL_RESOLUTION Timestamp extraction resolution Enum \u2713 Values: original, second, minute, hour, day, week, month, year  AGGREGATE_FUNCTIONS Choose aggregate functions to use Enum \u2713 Default: [0, 1, 2, 3]  Values: min, max, avg, sum  MIN_TIMESTAMP Minimum observation timestamp, Ex: 2019-01-01 or 2019-01-06 00:00:00 String MAX_TIMESTAMP Maximum observation timestamp, Ex:2019-12-31 or 2019-12-31 23:59:53 String"},{"location":"processing/#outputs_4","title":"Outputs","text":"ID Description Type Info OUTPUT_STATUS Output status Number OUTPUT_STRING Output message String OUTPUT_LAYER Output layer VectorLayer OUTPUT_LAYER_RESULT_NAME Output layer name String"},{"location":"processing/#get-series-data","title":"Get series data","text":"<p>This algorithm allows to add a table layer in your QGIS project containing the observation data from the chosen G-Obs series. Data are dynamically fetched from the database, meaning they are always up-to-date. * Name of the output layer: choose the name of the QGIS table layer to create. If not given, the label of the series will be used, by concatening the label of the indicator, protocol, source actor and spatial layer defining the chosen series. * Series of observations: choose the G-Obs series of observation you want to use as the data source. * Add spatial object geometry ? If checked, the output layer will be a spatial QGIS vector layer, displayed in the map, and not a geometryless table layer. The result can show duplicated geometries, for observations defined by the same geometry at different dates or times.</p> <p></p>"},{"location":"processing/#parameters_5","title":"Parameters","text":"ID Description Type Info Required Advanced Option OUTPUT_LAYER_NAME Name of the output layer String SERIE Series of observations Enum \u2713 Values:   SERIE_ID Series ID. If given, it overrides previous choice Number \u2713 Default: -1  Type: Integer Min: -1.7976931348623157e+308, Max: 1.7976931348623157e+308  ADD_SPATIAL_OBJECT_GEOM Add spatial object geometry ? Boolean \u2713"},{"location":"processing/#outputs_5","title":"Outputs","text":"ID Description Type Info OUTPUT_STATUS Output status Number OUTPUT_STRING Output message String OUTPUT_LAYER Output layer VectorLayer OUTPUT_LAYER_RESULT_NAME Output layer name String"},{"location":"processing/#get-the-list-of-series","title":"Get the list of series","text":""},{"location":"processing/#parameters_6","title":"Parameters","text":"ID Description Type Info Required Advanced Option No parameter"},{"location":"processing/#outputs_6","title":"Outputs","text":"ID Description Type Info OUTPUT_STATUS Output status Number OUTPUT_STRING Output message String OUTPUT_LAYER Output layer VectorLayer OUTPUT_LAYER_RESULT_NAME Output layer name String"},{"location":"processing/#get-spatial-layer-vector-data","title":"Get spatial layer vector data","text":"<p>This algorithm allows to add a vector layer in your QGIS project containing the spatial data from the chosen G-Obs spatial layer. Data are dynamically fetched from the database, meaning they are always up-to-date. * Name of the output layer: choose the name of the QGIS layer to create. If not given, the label of the spatial layer will be used. * Spatial layer: choose the G-Obs spatial layer you want to use as the data source. * Date of validity: if you want to see the data for a specific date (ex: today or 2010-01-01)</p> <p></p>"},{"location":"processing/#parameters_7","title":"Parameters","text":"ID Description Type Info Required Advanced Option OUTPUT_LAYER_NAME Name of the output layer String SPATIALLAYER Spatial layer Enum \u2713 Values:   SPATIALLAYER_ID Spatial layer ID. If given, it overrides previous choice Number \u2713 Default: -1  Type: Integer Min: -1.7976931348623157e+308, Max: 1.7976931348623157e+308  VALIDITY_DATE View data for a specific date (ex: today or 2010-01-01) String"},{"location":"processing/#outputs_7","title":"Outputs","text":"ID Description Type Info OUTPUT_STATUS Output status Number OUTPUT_STRING Output message String OUTPUT_LAYER Output layer VectorLayer OUTPUT_LAYER_RESULT_NAME Output layer name String"},{"location":"processing/#remove-series-data","title":"Remove series data","text":"<p>This algorithms allows to completely delete observation data for a specific series * Series of observations: the G-Obs series containing the observation data. * Check this box to delete: this box must be checked in order to proceed. It is mainly here as a security. Please check the chosen series before proceeding ! * Also delete the series item: if you want to delete not only the observation data of the series, but also the series item in the table.</p> <p></p>"},{"location":"processing/#parameters_8","title":"Parameters","text":"ID Description Type Info Required Advanced Option SERIE Series of observations Enum \u2713 Values:   SERIE_ID Series ID. If given, it overrides previous choice Number \u2713 Default: -1  Type: Integer Min: -1.7976931348623157e+308, Max: 1.7976931348623157e+308  RUN_DELETE Check this box to delete. No action will be done otherwise Boolean \u2713 DELETE_SERIES Also delete the series item Boolean \u2713"},{"location":"processing/#outputs_8","title":"Outputs","text":"ID Description Type Info OUTPUT_STATUS Output status Number OUTPUT_STRING Output message String"},{"location":"processing/#remove-spatial-layer-data","title":"Remove spatial layer data","text":"<p>This algorithms allows to completely delete spatial layer data (objects) for a specific spatial layer * Spatial layer: choose the G-Obs spatial layer. * Check this box to delete: this box must be checked in order to proceed. It is mainly here as a security. Please check the chosen spatial layer before proceeding ! * Also delete the spatial layer item: if you want to delete not only the spatial objects of the spatial layers, but also the spatial layer item in the table.</p> <p></p>"},{"location":"processing/#parameters_9","title":"Parameters","text":"ID Description Type Info Required Advanced Option SPATIALLAYER Spatial layer Enum \u2713 Values:   SPATIALLAYER_ID Spatial layer ID. If given, it overrides previous choice Number \u2713 Default: -1  Type: Integer Min: -1.7976931348623157e+308, Max: 1.7976931348623157e+308  RUN_DELETE Check this box to delete. No action will be done otherwise Boolean \u2713 DELETE_SPATIAL_LAYER Also delete the spatial layer item Boolean \u2713"},{"location":"processing/#outputs_9","title":"Outputs","text":"ID Description Type Info OUTPUT_STATUS Output status Number OUTPUT_STRING Output message String"},{"location":"processing/#import","title":"Import","text":""},{"location":"processing/#import-spatial-layer-data","title":"Import spatial layer data","text":"<p>This algorithm allows to import data from a QGIS spatial layer into the G-Obs database</p> <p>The G-Obs administrator must have created the needed spatial layer beforehand by addind the required items in the related database tables: gobs.actor_category, gobs.actor and gobs.spatial_layer. * Target spatial layer: choose one of the spatial layers available in G-Obs database * Source data layer: choose the QGIS vector layer containing the spatial data you want to import into the chosen spatial layer. * Unique identifier: choose the field containing the unique ID. It can be an integer or a text field, but must be unique. * Unique label: choose the text field containing the unique label of the layer feature. You could use the QGIS field calculator to create one if needed. * Start of validity: choose the field with the start timestamp of validity for each feature. Leave empty if all the features share the same date/time and manually enter the value in the next input. This field content must respect the ISO format. For example 2020-05-01 10:50:30 or 2020-01-01 * Start of validity for all features Specify the start timestamp of validity for all the objects in the spatial layer. This value must respect the ISO format. For example 2020-05-01 10:50:30 or 2020-01-01 * End of validity: choose the field with the end timestamp of validity for each feature. Leave empty if all the features share the same date/time and manually enter the value in the next input. This field content must respect the ISO format. For example 2020-05-01 10:50:30 or 2020-01-01 * End of validity for all features Specify the end timestamp of validity for all the objects in the spatial layer. This value must respect the ISO format. For example 2020-05-01 10:50:30 or 2020-01-01</p> <p></p>"},{"location":"processing/#parameters_10","title":"Parameters","text":"ID Description Type Info Required Advanced Option SPATIALLAYER Target spatial layer Enum \u2713 Values:   SOURCELAYER Source data layer VectorLayer \u2713 Type:   UNIQUEID Unique identifier Field \u2713 UNIQUELABEL Unique label Field \u2713 DATE_VALIDITY_MIN Start timestamp of validity. Field in ISO Format Field MANUAL_DATE_VALIDITY_MIN Manual start timestamp of validity (2019-01-06 or 2019-01-06 22:59:50) String DATE_VALIDITY_MAX End timestamp of validity. Field in ISO Format Field MANUAL_DATE_VALIDITY_MAX Manual end timestamp of validity (2019-01-31 or 2019-01-31 23:59:59) String"},{"location":"processing/#outputs_10","title":"Outputs","text":"ID Description Type Info OUTPUT_STRING Output message String"},{"location":"user-guide/","title":"Introduction","text":""},{"location":"user-guide/#g-obs-interface","title":"G-Obs interface","text":""},{"location":"user-guide/#algorithms","title":"Algorithms","text":""},{"location":"user-guide/#import-spatial-layer-data","title":"Import spatial layer data","text":"<p>This algorithm allows to import data from a QGIS spatial layer into the G-Obs database</p> <p>The G-Obs administrator must have created the needed spatial layer beforehand by addind the required items in the related database tables: gobs.actor_category, gobs.actor and gobs.spatial_layer.</p> <ul> <li>Target spatial layer: choose one of the spatial layers available in G-Obs database</li> <li>Source data layer: choose the QGIS vector layer containing the spatial data you want to import into the chosen spatial layer.</li> <li>Unique identifier: choose the field containing the unique ID. It can be an integer or a text field, but must be unique.</li> <li>Unique label: choose the text field containing the unique label of the layer feature. You could use the QGIS field calculator to create one if needed.</li> </ul> <p></p>"},{"location":"user-guide/#get-spatial-layer-vector-data","title":"Get spatial layer vector data","text":"<p>This algorithm allows to add a vector layer in your QGIS project containing the spatial data from the chosen G-Obs spatial layer. Data are dynamically fetched from the database, meaning they are always up-to-date.</p> <ul> <li>Name of the output layer: choose the name of the QGIS layer to create. If not given, the label of the spatial layer will be used.</li> <li>Spatial layer: choose the G-Obs spatial layer you want to use as the data source.</li> </ul> <p></p>"},{"location":"user-guide/#get-series-data","title":"Get series data","text":"<p>This algorithm allows to add a table layer in your QGIS project containing the observation data from the chosen G-Obs series. Data are dynamically fetched from the database, meaning they are always up-to-date.</p> <ul> <li>Name of the output layer: choose the name of the QGIS table layer to create. If not given, the label of the series will be used, by concatening the label of the indicator, protocol, source actor and spatial layer defining the chosen series.</li> <li>Series of observations: choose the G-Obs series of observation you want to use as the data source.</li> <li>Add spatial object geometry ? If checked, the output layer will be a spatial QGIS vector layer, displayed in the map, and not a geometryless table layer. The result can show duplicated geometries, for observations defined by the same geometry at different dates or times.</li> </ul> <p></p>"},{"location":"user-guide/#get-aggregated-data","title":"Get aggregated data","text":"<p>This algorithm allows to add a table or vector layer in your QGIS project containing the aggregated observation data from the chosen G-Obs series. The aggregation is made depending of the user input. Data are dynamically fetched from the database, meaning they are always up-to-date.</p> <ul> <li>Names of the output layer: choose the name of the QGIS layer to create. If not given, the label of the series of observations, as written in the series combo box.</li> <li>Series of observations: the G-Obs series containing the observation data.</li> <li>Add spatial object ID and label ? If checked, the output layer will have two more columns with the spatial layer unique identifiers (ID and label).</li> <li>Add spatial object geometry ? If checked, the output layer will be a spatial QGIS vector layer, displayed in the map, and not a geometryless table layer. The result can show duplicated geometries, for observations defined by the same geometry at different dates or times.</li> <li>Timestamp extraction resolution: choose the desired temporal resolution of the output. Aggregates will be calculated (sum, average, etc.) by grouping the source data by this temporal resolution.</li> <li>Choose aggregate functions to use: you can choose between minimum (min), maximum (max), average (avg) and  sum.</li> <li>Minimum observation timestamp: if you enter a valid ISO timestamp in this field, only observations with a timestamp after this value will be processed.</li> <li>Maximum observation timestamp: if you enter a valid ISO timestamp in this field, only observations with a timestamp before this value will be processed.</li> </ul> <p></p>"},{"location":"user-guide/#remove-series-data","title":"Remove series data","text":"<p>This algorithms allows to completely delete observation data for a specific series</p> <ul> <li>Series of observations: the G-Obs series containing the observation data.</li> <li>Check this box to delete: this box must be checked in order to proceed. It is mainly here as a security. Please check the chosen series before proceeding !</li> <li>Also delete the series item: if you want to delete not only the observation data of the series, but also the series item in the table.</li> </ul> <p></p>"},{"location":"user-guide/#remove-spatial-layer-data","title":"Remove spatial layer data","text":"<p>This algorithms allows to completely delete spatial layer data (objects) for a specific spatial layer</p> <ul> <li>Spatial layer: choose the G-Obs spatial layer.</li> <li>Check this box to delete: this box must be checked in order to proceed. It is mainly here as a security. Please check the chosen spatial layer before proceeding !</li> <li>Also delete the spatial layer item: if you want to delete not only the spatial objects of the spatial layers, but also the spatial layer item in the table.</li> </ul> <p></p>"},{"location":"user-guide/installation/","title":"Introduction","text":"<p>G-Obs is a set of tools to store and manage spatial and time data in a standardized way.</p> <p>To use it, you need to:</p> <ul> <li>install QGIS Desktop</li> <li>install the plugin G-Obs for QGIS</li> <li>add a connection to a PostgreSQL database with PostGIS extension</li> <li>install the G-Obs database structure on this PostgreSQL database</li> </ul>"},{"location":"user-guide/installation/#get-qgis-desktop","title":"Get QGIS Desktop","text":"<p>The administrator must use the QGIS desktop software, version 3.4.x or above, to edit these needed metadata.</p> <p>You can download QGIS in the official download page</p>"},{"location":"user-guide/installation/#install-g-obs-plugin","title":"Install G-Obs plugin","text":"<p>At present, G-Obs is not yet in QGIS official plugin repository. To install the plugin, you need to:</p> <ul> <li>open QGIS Plugin manager (menu Plugins)</li> <li>in the Parameters tab, add a new plugin repository name G-Obs with the URL: https://github.com/3liz/qgis-gobs-plugin/releases/latest/download/plugins.xml</li> </ul> <p></p> <ul> <li>In the All tab, search for the word <code>obs</code> and install the G-Obs plugin.</li> </ul> <p>After a successful installation, you should see a new dock called G-Obs</p> <p></p> <p>For further details, you can have a look at 3liz documentation web page.</p>"},{"location":"user-guide/installation/#add-a-connection-to-the-postgresql-database","title":"Add a connection to the PostgreSQL database","text":"<p>G-Obs stores all the data in a PostgreSQL database, with the PostGIS extension installed (to manage spatial data).</p> <p>You need to have access to a PostgreSQL database, with enough rights to create a database schema and tables inside this schema.</p> <p>In QGIS, use the Datasource manager under the Layer menu to create a new PostgreSQL connection:</p> <ul> <li>Activate the PostgreSQL tab (elephant icon)</li> <li>Click on the New button</li> <li>In the creation dialog, fill the needed information, and use the Test connection button to make sure the credentials are ok.</li> </ul> <p>We advise to:</p> <ul> <li>use a service connection instead of the basic authentication. See QGIS documentation</li> <li>check the boxes <code>Use estimated table metadata</code> and <code>Also list tables with no geometry</code></li> </ul> <p>Once your connection is set up, you can create the G-Obs database structure in your PostgreSQL database</p>"},{"location":"user-guide/installation/#configure-the-g-obs-plugin","title":"Configure the G-Obs plugin","text":"<p>This algorithm will allow to configure G-Obs extension for the current QGIS project.</p> <p>You must run this script before any other script.</p> <p>Parameters:</p> <ul> <li><code>PostgreSQL connection to G-Obs database</code>: name of the database connection you would like to use for the current QGIS project. This connection will be used for the other algorithms.</li> </ul> <p></p>"},{"location":"user-guide/installation/#create-the-g-obs-database-structure","title":"Create the G-Obs database structure","text":"<p>Install the G-Obs database structure with tables and function on the chosen database connection.</p> <p>This script will add a gobs schema with needed tables and functions.</p> <p>Parameters:</p> <ul> <li><code>PostgreSQL connection to G-Obs database</code>: name of the database connection you would like to use for the installation.</li> </ul> <p></p>"},{"location":"user-guide/installation/#upgrade-database-structure","title":"Upgrade database structure","text":"<p>Upgrade the G-Obs tables and functions in the chosen database.</p> <p>If you have upgraded your QGIS G-Obs plugin, you can run this script to upgrade your database to the new plugin version.</p> <p>Parameters:</p> <ul> <li><code>PostgreSQL connection to G-Obs database</code>: name of the database connection you would like to use for the upgrade.</li> </ul> <p></p>"}]}